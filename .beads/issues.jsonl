{"id":"dojo-00u","title":"Deterministic CI tests for full import correctness using mock workbook","description":"## End State\nCI runs a deterministic end-to-end test that drives the full Aspire Migration import pipeline using the mock workbook generator and asserts correctness of resulting Dojo state.\n\n## Acceptance Criteria\n- Test creates pristine DB, uploads workbook, runs schema detection + mapping defaults/overrides, then executes all import stages.\n- Assertions cover core invariants: account balances, transaction counts/dedupe, category links, allocation totals by period, net worth snapshots.\n- Test runtime is stable and suitable for CI; failures produce actionable diffs without leaking sensitive values.\n\n## Test Expectations\n- Uses only generated/committed mock workbook; no external files.\n- Includes an idempotence rerun within the test (import twice -\u003e same state).\n- Avoids snapshotting full tables with values unless fixtures are synthetic and small.","acceptance_criteria":"- CI end-to-end import test\n- Asserts invariants + idempotence\n- Deterministic + fast","notes":"Use existing scripts/run-tests harness if possible.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T13:15:24.918092584-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:15:24.918092584-08:00","dependencies":[{"issue_id":"dojo-00u","depends_on_id":"dojo-4nx","type":"blocks","created_at":"2026-01-23T13:16:19.389550059-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-00u","depends_on_id":"dojo-obq","type":"blocks","created_at":"2026-01-23T13:16:19.42729623-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-00u","depends_on_id":"dojo-ti4","type":"blocks","created_at":"2026-01-23T13:16:19.4648572-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-00u","depends_on_id":"dojo-bhm","type":"blocks","created_at":"2026-01-23T13:16:19.501416751-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-00u","depends_on_id":"dojo-6vp","type":"blocks","created_at":"2026-01-23T13:16:19.538534365-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-00u","depends_on_id":"dojo-oh7","type":"blocks","created_at":"2026-01-23T13:16:19.575280407-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-0jm","title":"Clarify Milestone 5: Per-row actions vs. selection toolbar in daily-workflow-dashboard-ledger-reconcile.md","description":"The 'Progress' section states 'Kept inline per-row actions... and removed the selection toolbar pattern', which contradicts Milestone 5's goal to 'Remove per-row action chrome; add selection toolbar/inspector'. Clarify the current state and update the plan document accordingly.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T20:51:15.986214459-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:51:28.654104458-08:00","closed_at":"2026-01-13T13:51:28.654104458-08:00","close_reason":"The daily-workflow-dashboard-ledger-reconcile.md document has been consolidated into docs/plans/domain-ledger-and-budgeting.md. The specific milestone text is no longer the active source of truth, and the outstanding UX work is tracked in dedicated tickets."}
{"id":"dojo-0ul","title":"Implement Deployment Pipeline \u0026 Kubernetes Manifests","description":"Created a reproducible deployment pipeline using Nix for container builds, GitHub Actions for CI/CD, and Kustomize-based Kubernetes manifests. (Ref: docs/plans/deployment-pipeline.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:07.895150888-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:07.927261916-08:00","closed_at":"2026-01-13T13:50:07.927261916-08:00","close_reason":"Historical work completed"}
{"id":"dojo-0ye","title":"Docs: Aspire Migration Wizard user guide + developer guide (assumptions + how to run structural tests)","description":"## End State\nDocumentation exists for both users and developers covering the Aspire Migration Wizard: prerequisites, step-by-step flow, import assumptions/limitations, and how to run tests (including local-only structural parity checks).\n\n## Acceptance Criteria\n- User guide: where to get Aspire export, how wizard stages work, what to do on validation errors, and safety notes about pristine DB requirement.\n- Developer guide: architecture overview, key endpoints/components, concept ID/idempotence strategy, how to add new schema variants, how to run CI + local-only parity tests.\n- Docs include explicit redaction/safety guidance and do not include real financial data examples.\n\n## Test Expectations\n- Links/commands in docs are validated by at least one lightweight CI check or kept consistent with scripts/README.md.\n- Docs mention that parity tests are gated and must not print values.","acceptance_criteria":"- User guide + dev guide\n- Import assumptions and limitations\n- Structural parity test instructions\n- Safety guidance","notes":"Update existing plans/docs if they exist; avoid duplicating stale content.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T13:15:37.781478508-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:15:37.781478508-08:00","dependencies":[{"issue_id":"dojo-0ye","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:16:19.71601878-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-0ye","depends_on_id":"dojo-7n0","type":"blocks","created_at":"2026-01-23T13:16:19.752426853-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-0ye","depends_on_id":"dojo-00u","type":"blocks","created_at":"2026-01-23T13:16:19.788623438-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-1dj","title":"Migration Draft API (persist mappings, dry-run preview, row-level validation errors)","description":"Problem\nThe migration wizard needs a durable draft that stores user mappings/parse options, supports resume, and can be validated via dry-run before commit. This issue defines and implements the draft API and validation error shapes.\n\nAcceptance Criteria (plan sections + contracts)\n- Aligns with plan sections \"Draft create / load / update\" and \"Dry-run (validation + computed plan)\" under \"API Contracts (Requests, Responses, Errors)\".\n- Supports: POST /api/onboarding/aspire/drafts; GET /api/onboarding/aspire/drafts/{draft_id}; PUT /api/onboarding/aspire/drafts/{draft_id}.\n- PUT supports entity mapping updates described in plan (accounts/categories/net worth) and persists enough to resume per \"Wizard State Machine (Flow Control + Resume)\".\n- Implements POST /api/onboarding/aspire/drafts/{draft_id}/dry-run returning blocking errors + warnings using \"Error Envelope (all endpoints)\".\n\nTesting Expectations\n- Integration tests for create/get/update roundtrip and dry-run validation responses (both blocking and warning cases).\n- Property/unit tests for row-level validation (e.g., required fields, parse errors, duplicates) staying consistent with plan error envelope.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-16T13:32:03.598412543-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:23.00344285-08:00"}
{"id":"dojo-2ln","title":"Update reconciliation ExecPlan and spec docs to match current implementation + onboarding needs","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T13:32:04.826369733-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:32:04.826369733-08:00"}
{"id":"dojo-2pt","title":"Auditable Ledger and Net Worth MVP","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:52.553695878-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:08.97547072-08:00","closed_at":"2026-01-12T20:18:08.97547072-08:00","close_reason":"Closed"}
{"id":"dojo-2zc","title":"Harden DuckDB migrations for deploy safety","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:30:30.605029348-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:30:33.282791441-08:00","closed_at":"2026-01-13T13:30:33.282791441-08:00","close_reason":"Work completed as per docs/plans/db-migrations.md"}
{"id":"dojo-2zp","title":"UX-020: Net Worth Dashboard MVP as landing page","description":"Implements the Dashboard landing page per `next_up/net_worth_dashboard.md`.\n\nRouting decision (explicit):\n- The app currently uses SPA hash routing (e.g., `/#/transactions`). Define the canonical dashboard route (e.g., `/#/` and/or `/#/dashboard`) and ensure the app landing entry redirects there.\n\nAPI contract decision (explicit):\n- The dashboard spec calls for `GET /api/net-worth/history?interval={interval}`. Another doc mentions a `history?as_of=` variant.\n- Choose a canonical query param for the history endpoint and keep frontend/backend/tests consistent (do not ship with two competing contracts).\n\nScope (MVP):\n- Net Worth header + full-bleed interactive history chart with interval toggles.\n- Accounts panel with deep links into Account Details and Transactions filtered to that account (do not confuse this with the Assets \u0026 Liabilities page).\n- Budget Watchlist widget.\n- Add required backend endpoint for net worth history.\n\nSelectors (stable for Cypress):\n- Page/header/chart: [data-testid=dashboard-page], [data-testid=dashboard-net-worth-header], [data-testid=dashboard-net-worth-chart], [data-testid=dashboard-net-worth-tooltip]\n- Intervals: [data-testid=dashboard-interval-1D], [data-testid=dashboard-interval-1W], [data-testid=dashboard-interval-1M], [data-testid=dashboard-interval-3M], [data-testid=dashboard-interval-YTD], [data-testid=dashboard-interval-1Y], [data-testid=dashboard-interval-5Y], [data-testid=dashboard-interval-Max]\n- Accounts: [data-testid=dashboard-accounts-panel], [data-testid=dashboard-account-row], [data-testid=dashboard-account-link-details], [data-testid=dashboard-account-link-transactions]\n- Watchlist: [data-testid=dashboard-budget-watchlist], [data-testid=dashboard-watchlist-item]\n\nTests:\n- Backend: add/extend tests to cover `/api/net-worth/history` response shape and query-param behavior.\n- Cypress: add a dashboard e2e spec that stubs history data, asserts interval toggle wiring, and verifies account deep links navigate to account details and account-filtered transactions.\n\nRelated: dojo-pjb (epic), dojo-pjb.1 (UX-001 account detail navigation contract), dojo-pjb.2 (UX-002 investments entry point), dojo-pjb.14 (UX-017 loading/readiness).\n","acceptance_criteria":"- Navigating to the app root/landing route renders the Net Worth Dashboard (global header remains visible).\n- Interval controls exist with options: 1D, 1W, 1M, 3M, YTD, 1Y, 5Y, Max; selecting an interval reloads the chart data and updates the header’s change metrics for that interval.\n- Net Worth header shows: label, current value, absolute change, and percent change for the selected interval; header metrics do not change on chart hover/drag (chart tooltip handles dynamic measurement).\n- History chart is full-bleed (100vw) area chart and supports:\n  - Hover tooltip with date + value.\n  - Drag-to-measure range with start/end values and delta (absolute + percent), and dynamic green/red coloring based on the selected range.\n  - Responsive resize behavior (no overflow; tooltip stays on-screen).\n- Accounts panel lists all active accounts sorted by current balance (desc) and shows name, type, and current balance; each account row provides deep links into (a) account details and (b) transactions filtered to that account.\n- Budget Watchlist renders a list of categories with progress-bar/sparkline style showing available vs allocated, including the “Unfunded / Overspent” visual state; includes an “Edit List” affordance (can be a stub if list editing is not implemented in MVP).\n- Backend exposes `GET /api/net-worth/history?interval={interval}` returning an array of `{date: ISOString, value: int (minor units)}` and the frontend consumes it for the chart.\n","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-11T13:19:16.840833407-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T14:19:23.008514492-08:00","closed_at":"2026-01-12T14:19:23.008514492-08:00","close_reason":"Milestones 1-6 completed per ExecPlan docs/plans/daily-workflow-dashboard-ledger-reconcile.md","labels":["backend","frontend","ux"]}
{"id":"dojo-2zt","title":"UX-002: Investment portfolio entry","description":"Fix redirect: /investments/:accountId should render portfolio. Ensure [data-view-portfolio-button] navigates correctly. Add stable page landmark: [data-testid=investment-nav].","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T20:51:34.280089708-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.280089708-08:00"}
{"id":"dojo-2zx","title":"Deployment Pipeline \u0026 Kubernetes Manifests","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:31:06.223385349-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:31:08.392842185-08:00","closed_at":"2026-01-13T13:31:08.392842185-08:00","close_reason":"Work is fully completed as indicated in docs/plans/deployment-pipeline.md"}
{"id":"dojo-3au","title":"Feature: Cypress E2E Migration","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:58:07.660019091-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:58:25.96884974-08:00","closed_at":"2026-01-12T20:58:25.96884974-08:00","close_reason":"Cypress E2E Migration completed as per docs/plans/cypress-e2e-migration.md."}
{"id":"dojo-3fo","title":"Admin/Dev panel","description":"Add an Admin/Dev panel for power-user ops and support workflows.\\n\\nScope:\\n- Delete/reset DB (destructive; require strong confirmation + safeguards)\\n- Show retired accounts\\n- Show retired budget categories\\n- Download DB backup\\n- Backup to Google Drive\\n- Access Aspire wizard post-onboarding","status":"open","priority":3,"issue_type":"feature","created_at":"2026-01-16T20:33:26.133425698-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T20:33:26.133425698-08:00"}
{"id":"dojo-3nb","title":"Implement account reconciliation feature","description":"Implement full account reconciliation feature as described in docs/plans/reconciliation-feature.md\n\nThis includes:\n- Milestone 1: Database \u0026 Backend Core (account_reconciliations table, worksheet/commit service logic)\n- Milestone 2: API Layer (GET/POST endpoints for reconciliation)\n- Milestone 3: Frontend UI (ReconciliationModal.vue with 2-step wizard)\n\nKey requirements:\n- Allow users to verify ledger matches bank statements\n- Manual commit process with worksheet showing new/modified/pending transactions\n- Route-driven entry point: /#/accounts/:accountId/reconcile?statementMonth=YYYY-MM\n- Applies to cash, accessible, credit, and loan accounts\n- Use 'Cleared balance' and 'Pending total' terminology\n- Difference must be 0.00 before allowing finish\n\nAcceptance:\n- Backend unit/integration tests pass\n- Frontend modal renders correctly with setup -\u003e worksheet flow\n- Can only finish when difference == 0.00\n- Navigation is bookmarkable and back/forward behave predictably","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-12T20:20:27.466050928-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:20:27.466050928-08:00"}
{"id":"dojo-3t5","title":"Database Migration Hardening","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:54.148648959-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:08.999285026-08:00","closed_at":"2026-01-12T20:18:08.999285026-08:00","close_reason":"Closed"}
{"id":"dojo-432","title":"UX-008: Budgets/Allocations IA split","description":"Separate routes or tabs: /budgets vs /allocations. Add explicit landmarks for each view. Update Cypress to use correct routes.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:34.353621163-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.353621163-08:00"}
{"id":"dojo-4cy","title":"UX-009: Accessibility gaps","description":"Keyboard-friendly DnD reorder (move up/down controls). Modal focus trap + Escape-to-close. Inline editing discoverable/operable via keyboard. Add ARIA attributes.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T20:51:34.245569552-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.245569552-08:00"}
{"id":"dojo-4hy","title":"Manual verification: Account Detail Pages (charts + filtered ledger + integrity actions)","description":"Manually verify the functionality of account detail pages, including charts, filtered ledger, and integrity actions for all account types, as outlined in docs/plans/account-detail-pages.md.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T20:51:44.757984648-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:44.757984648-08:00"}
{"id":"dojo-4nx","title":"Mock Aspire export workbook generator (committable) with seeded randomness","description":"## End State\nRepo includes a deterministic generator that produces a realistic Aspire export XLSX (or minimal compatible subset) with seeded randomness, suitable for tests and demos and safe to commit.\n\n## Acceptance Criteria\n- Generator takes a seed and outputs a workbook with the required sheets/columns for the wizard pipeline.\n- Data covers representative scenarios: multiple accounts, transfers, split txns (if supported), monthly allocations, net worth history with investments/mortgage examples.\n- Output is stable across runs given the same seed; stored either as a generated-at-test-time artifact or a small committed fixture + regen script.\n\n## Test Expectations\n- Unit tests verify determinism (same seed -\u003e identical structural workbook) and basic sanity (non-empty, required sheets).\n- Generator does not emit PII-like strings; all fake data is obviously synthetic.","acceptance_criteria":"- Seeded deterministic generator\n- Covers key scenarios\n- Safe to commit/use in CI","notes":"Prefer generating at test time to keep repo size small; if committing, keep it minimal.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-23T13:15:17.686894816-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:15:17.686894816-08:00"}
{"id":"dojo-4r5","title":"Local-only structural parity tests (gated; must not print values)","description":"## End State\nRepo provides optional local-only tests that compare Aspire workbook structure against expected schema rules to catch upstream Aspire export changes, gated by env var and local file presence; tests never print cell values.\n\n## Acceptance Criteria\n- Tests are skipped by default; enabled only when env var is set AND a local workbook path exists.\n- Parity checks are structural only (sheet names, header presence, required columns), and never output cell contents (even on failure).\n- Failure messages include only structural diffs (missing columns, unexpected sheet names) with redaction by default.\n\n## Test Expectations\n- Unit tests verify gating behavior (skipped unless enabled).\n- Tests validate redaction (no values printed) by asserting on captured output/logs.","acceptance_criteria":"- Default-skipped structural tests\n- Env var + file gating\n- No values printed (ever)","notes":"This is for local validation against a real Aspire export; do not run in CI.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-23T13:15:27.648817085-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:15:27.648817085-08:00","dependencies":[{"issue_id":"dojo-4r5","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:16:19.67343688-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-54d","title":"UX-021: Reconcile session framework (extensible account types)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-12T20:51:25.854425281-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:28.270546657-08:00","closed_at":"2026-01-12T20:51:28.270546657-08:00","close_reason":"Implemented as part of daily-workflow-dashboard-ledger-reconcile.md"}
{"id":"dojo-55n","title":"Feature: Frontend Migration to Vue 3 + TanStack Query (with Vite)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:52:41.076229529-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:52:46.872503384-08:00","closed_at":"2026-01-12T20:52:46.872503384-08:00","close_reason":"Frontend Migration to Vue 3 + TanStack Query (with Vite) completed as per docs/plans/vue-frontend.md."}
{"id":"dojo-566","title":"UX-020: Net Worth Dashboard MVP as landing page","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:25.815934841-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:28.22795309-08:00","closed_at":"2026-01-12T20:51:28.22795309-08:00","close_reason":"Implemented as part of daily-workflow-dashboard-ledger-reconcile.md"}
{"id":"dojo-56o","title":"Feature: Budget Availability Validation","description":"Validation feature to ensure that the amount budgeted is actually available across budgeting accounts (e.g. Total Budget Available vs Total Cash in Budget Accounts). Address discrepancy mentioned in notes: \"spreadsheet shows 118k available but 128k in account\".","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-13T14:08:44.170238969-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T14:08:44.170238969-08:00"}
{"id":"dojo-5gm","title":"UX-004: Group quick allocation atomic","description":"Add bulk/group allocation endpoint (single server transaction). Show progress + completion summary. Reduce multiple write failure surface.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T20:51:34.21050399-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.21050399-08:00"}
{"id":"dojo-5y8","title":"Harden DuckDB Migrations","description":"Implemented a reliable migration strategy for DuckDB with transactional execution, splitting DML/DDL to avoid index locking issues, and adding CI/preflight checks. (Ref: docs/plans/db-migrations.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:07.82759411-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:07.861064564-08:00","closed_at":"2026-01-13T13:50:07.861064564-08:00","close_reason":"Historical work completed"}
{"id":"dojo-66f","title":"Deliver Envelope Budget E2E MVP","description":"Delivered complete envelope budgeting features: transaction entry, hierarchical budget management, categorized transfers, and Cypress E2E coverage for core user stories. (Ref: docs/plans/envelope-budget-e2e-mvp.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:08.094936104-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:08.169000672-08:00","closed_at":"2026-01-13T13:50:08.169000672-08:00","close_reason":"Historical work completed"}
{"id":"dojo-6d0","title":"UX-012: Explainability","description":"Add 'Explain this' affordance for credit payments. Add impact preview for transfers. Explain budget impacts during corrections.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:34.398756205-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.398756205-08:00"}
{"id":"dojo-6v2","title":"UX-013: System categories separation","description":"Visually separate system from user categories. Group or badge system categories. Add metadata (is_system, category_kind).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:34.503694017-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.503694017-08:00"}
{"id":"dojo-6vp","title":"Allocations import stage (plan/apply + idempotent concept IDs + UI)","description":"## End State\nWizard stage imports allocation/assignment history into Dojo (budget allocations) with plan/apply, stable concept IDs, and UI review.\n\n## Acceptance Criteria\n- Planner translates Aspire allocation rows to Dojo allocation events for correct month/budget period semantics.\n- Apply is transactional and idempotent using stable allocation concept IDs (no duplicates on rerun).\n- UI shows allocation preview (by period/category), totals, and validation issues.\n\n## Test Expectations\n- Integration tests assert budget balances/ready-to-assign match expected after allocations import.\n- Idempotence tests: rerun produces no duplicate allocation events.\n- Tests cover month-boundary semantics and zero/negative edge cases.","acceptance_criteria":"- Allocation plan/apply\n- Stable concept IDs + dedupe\n- UI preview + period correctness","notes":"Align period rules with existing Dojo budgeting invariants.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:15:07.386906743-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:15:07.386906743-08:00","dependencies":[{"issue_id":"dojo-6vp","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:16:14.153678675-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-6vp","depends_on_id":"dojo-7n0","type":"blocks","created_at":"2026-01-23T13:16:14.19049293-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-6vp","depends_on_id":"dojo-ti4","type":"blocks","created_at":"2026-01-23T13:16:14.41029244-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-6vp","depends_on_id":"dojo-bhm","type":"blocks","created_at":"2026-01-23T13:16:14.447080551-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-70c","title":"Account Detail Pages for All Account Types","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:23:35.7100206-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:23:37.829207984-08:00","closed_at":"2026-01-13T13:23:37.829207984-08:00","close_reason":"Work largely completed as per docs/plans/account-detail-pages.md."}
{"id":"dojo-730","title":"Nix-First CI and Release Pipeline for Dojo","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:25:01.025464622-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:25:03.192140393-08:00","closed_at":"2026-01-13T13:25:03.192140393-08:00","close_reason":"The work for Nix-First CI and Release Pipeline for Dojo is fully completed as indicated in docs/plans/ci-release-pipeline.md."}
{"id":"dojo-7ey","title":"Complete spec-aligned test suite","description":"Finish spec-aligned test suite from docs/plans/spec-aligned-test-suite.md\n\nRemaining work from plan:\n- Milestone 4: Cypress journeys and cleanup\n  - Replace cypress/e2e/user-stories with cypress/e2e/specs/ (7 spec-aligned files)\n  - Retire redundant user stories 07 and 09-11, 17-19 once invariants exist in lower layers\n- Milestone 5: Performance harness\n  - Add tests/perf/ for high-volume benchmarks\n  - Integrate with CI optional job\n  - Assert latency thresholds (\u003c200ms for RTA, \u003c100ms for net worth)\n\nKey gaps identified in plan:\n- Domain 2 (SCD-2 Ledger): Missing reconciliation window integrity, cross-account edit balance validation, historical ripple/backdating, reconciliation adjustments\n- Domain 3: Missing property coverage for zero-sum allocations, fundamental budget equation\n- Domain 8 (UI Journeys): Specs 8.3-8.5 not explicitly covered\n- Domain 9 (Performance): No tests exist\n\nPlan reference: docs/plans/spec-aligned-test-suite.md","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T20:20:46.935790452-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:20:46.935790452-08:00"}
{"id":"dojo-7mt","title":"Daily Workflow UX: Dashboard, Transactions, Reconciliation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:53.880370012-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:08.993214925-08:00","closed_at":"2026-01-12T20:18:08.993214925-08:00","close_reason":"Closed"}
{"id":"dojo-7n0","title":"Spreadsheet preview grid component + mapping controls (frontend)","description":"## End State\nSPA provides a preview grid UI for the uploaded workbook and a mapping-controls panel that lets the user select sheets/columns and confirm detected schema/overrides before importing stages.\n\n## Acceptance Criteria\n- Upload flow creates a session and loads preview grid for selected sheet; UI handles truncation and large sheets gracefully.\n- Mapping controls display detected schema suggestions and allow overrides (sheet/header row/column picks).\n- UX includes validation feedback from backend and prevents proceeding when mapping is invalid.\n- No client-side logging of cell values; only structural info may be logged in dev.\n\n## Test Expectations\n- Frontend unit/component tests for grid rendering, truncation UI, and mapping form state.\n- E2E test covers upload -\u003e preview -\u003e mapping -\u003e can proceed gate (with stubbed backend or fixture).\n- Tests assert no PII/cell values are written to console logs.","acceptance_criteria":"- Preview grid renders via backend endpoint\n- Mapping/override controls wired to schema detection\n- Blocking validation + good UX\n- No sensitive logging","notes":"Must work on mobile and desktop; prioritize clarity over density.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:14:49.884271028-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:14:49.884271028-08:00","dependencies":[{"issue_id":"dojo-7n0","depends_on_id":"dojo-oz6","type":"blocks","created_at":"2026-01-23T13:16:13.860964285-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-7n0","depends_on_id":"dojo-ikx","type":"blocks","created_at":"2026-01-23T13:16:13.897590539-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-7u6","title":"UX: Transaction List Polish","description":"Improvements from next_up/aspire_notes.md:\n- Select a category to highlight those rows (or hide others).\n- Autocomplete (fuzzy) for memo input.\n- Visual indication of last reconciled transaction (or date).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-13T14:08:44.10599577-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T14:08:44.10599577-08:00"}
{"id":"dojo-7zj","title":"Daily Workflow UX: Dashboard → Transactions Entry → Reconcile","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:29:52.764994199-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:29:56.894084502-08:00","closed_at":"2026-01-13T13:29:56.894084502-08:00","close_reason":"Work completed as per docs/plans/daily-workflow-dashboard-ledger-reconcile.md"}
{"id":"dojo-8an","title":"Feature: Deployment Pipeline \u0026 Kubernetes Manifests","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:52:59.091882358-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:53:02.521990495-08:00","closed_at":"2026-01-12T20:53:02.521990495-08:00","close_reason":"Deployment Pipeline \u0026 Kubernetes Manifests completed as per docs/plans/deployment-pipeline.md."}
{"id":"dojo-8lb","title":"UX-018: Transactions fast-entry composer + keyboard-first contract","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-12T20:51:25.732592638-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:58:07.698485906-08:00","closed_at":"2026-01-12T20:58:07.698485906-08:00","close_reason":"Cypress E2E Migration completed as per docs/plans/cypress-e2e-migration.md."}
{"id":"dojo-8rq","title":"Feature: Envelope Budget E2E MVP","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:56:09.623583909-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:56:15.814071015-08:00","closed_at":"2026-01-12T20:56:15.814071015-08:00","close_reason":"Envelope Budget E2E MVP completed as per docs/plans/envelope-budget-e2e-mvp.md."}
{"id":"dojo-90p","title":"Account Detail Pages Implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:51.786700631-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:08.953358175-08:00","closed_at":"2026-01-12T20:18:08.953358175-08:00","close_reason":"Closed"}
{"id":"dojo-an4","title":"Envelope Budget E2E MVP","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:55.163569971-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:09.016871052-08:00","closed_at":"2026-01-12T20:18:09.016871052-08:00","close_reason":"Closed"}
{"id":"dojo-aoc","title":"Reconciliation upgrades for onboarding across account types (cash/credit/loan/tracking/investment/tangible adapters)","description":"Problem\nImported accounts must immediately support reconciliation flows so users can trust starting balances and ongoing statement parity. Onboarding creates cash/credit/loan/tracking/investment/tangible accounts that must be reconcilable without special-casing.\n\nAcceptance Criteria (plan sections + contracts)\n- Aligns with plan section \"Milestone 6: Reconciliation gating (dojo-aoc, dojo-ql1)\" and \"Validation and Acceptance\".\n- After a successful onboarding commit (POST /api/onboarding/aspire/drafts/{draft_id}/commit), newly created accounts can enter reconciliation flows without drift caused by import artifacts.\n- Confidence report gating remains meaningful: GET /api/onboarding/aspire/import-runs/{import_run_id}/confidence-report should not pass if reconciliation would immediately fail due to systemic adapter gaps.\n\nTesting Expectations\n- Integration test imports a fixture and then exercises reconciliation entry for at least one account type (cash + credit minimum).\n- Regression tests for loan/interest/escrow behaviors (see dojo-ql1 dependency).","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-16T13:32:04.101992167-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:47.768419171-08:00","dependencies":[{"issue_id":"dojo-aoc","depends_on_id":"dojo-3nb","type":"blocks","created_at":"2026-01-16T13:32:29.484084386-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-aur","title":"Write Outcomes \u0026 Retrospective for Investment Tracking","description":"Write the 'Outcomes \u0026 Retrospective' section for the Investment Tracking feature in docs/plans/investment-tracking.md, describing what shipped, how to validate, what was harder than expected, and what follow-ups remain.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:52:06.55822362-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:52:06.55822362-08:00"}
{"id":"dojo-ba9","title":"Feature: Nix-First CI and Release Pipeline for Dojo","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:53:13.882978076-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:53:16.720622353-08:00","closed_at":"2026-01-12T20:53:16.720622353-08:00","close_reason":"Nix-First CI and Release Pipeline for Dojo completed as per docs/plans/ci-release-pipeline.md."}
{"id":"dojo-bhm","title":"Transactions import stage (plan/apply + idempotent concept IDs + UI)","description":"## End State\nWizard stage imports transactions from Aspire into Dojo ledger with a plan/apply workflow and stable, idempotent concept IDs so repeated imports are safe and deduplicated.\n\n## Acceptance Criteria\n- Planner produces normalized transaction rows with derived fields (dates, payee/memo, splits if supported) and links to imported accounts/categories.\n- Apply writes transactions in a single transaction; uses stable concept IDs (derived from workbook stable identifiers + normalization) to ensure idempotence.\n- UI shows transaction preview, counts, and warnings (unmapped categories, invalid dates/amounts).\n\n## Test Expectations\n- Integration tests prove idempotence (same workbook imported twice yields identical ledger state).\n- Tests cover sign conventions, transfers, and split transactions (if in Aspire export).\n- Property/unit tests cover concept ID stability under benign formatting changes (whitespace, casing).","acceptance_criteria":"- Transaction plan/apply\n- Stable concept IDs + dedupe\n- UI preview + warnings","notes":"Be explicit about money types (minor units/Decimal) and avoid floats.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:15:03.549575912-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:15:03.549575912-08:00","dependencies":[{"issue_id":"dojo-bhm","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:16:14.08062385-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-bhm","depends_on_id":"dojo-7n0","type":"blocks","created_at":"2026-01-23T13:16:14.116662398-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-bhm","depends_on_id":"dojo-obq","type":"blocks","created_at":"2026-01-23T13:16:14.337069068-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-bhm","depends_on_id":"dojo-ti4","type":"blocks","created_at":"2026-01-23T13:16:14.374010275-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-bo9","title":"Deliver Auditable Ledger and Net Worth MVP","description":"Delivered the first vertical slice of Dojo with FastAPI monolith, DuckDB-backed ledger, atomic transaction recording, temporal tables, and net worth computation. (Ref: docs/plans/auditable-ledger-net-worth.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:07.740580305-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:07.782988684-08:00","closed_at":"2026-01-13T13:50:07.782988684-08:00","close_reason":"Historical work completed"}
{"id":"dojo-bwr","title":"Feature: Assets, Liabilities, and Budget Flows","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:57:14.142112507-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:57:27.016238177-08:00","closed_at":"2026-01-12T20:57:27.016238177-08:00","close_reason":"Assets, Liabilities, and Budget Flows completed as per docs/plans/assets-liabilities-budget-flows.md."}
{"id":"dojo-c5y","title":"UX-003: Insufficient RTA inline UX","description":"Replace window.alert with in-modal inline error. Use deterministic selector like [data-testid=quick-allocate-error]. Keep invariant: insufficient RTA blocks action.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-12T20:51:34.105853744-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.105853744-08:00"}
{"id":"dojo-cdu","title":"UX-019: Reconciliation delta-finding improvements (cash/credit)","description":"Goal:\n- Make cash/credit reconciliation faster to diagnose when numbers do not match, without changing the underlying manual reconciliation workflow.\n\nTerminology (explicit):\n- \"Cleared balance\": the cleared/posted balance from the institution.\n- \"Pending total\": the institution-reported total of pending transactions.\n- Avoid legacy/ambiguous wording (e.g., \"statement balance\") in the primary UI.\n\nUX requirements:\n- Rename reconciliation inputs/labels to \"Cleared balance\" and \"Pending total\".\n- Always show three computed deltas (Cleared, Pending, Total), currency formatted, and explicitly label the delta direction so users can interpret +/- values correctly.\n- Add mismatch-hunting helpers:\n  - Text search and status filters (cleared/pending) for the transaction list.\n  - A one-click \"Amount = diff\" affordance that filters/highlights transactions whose amount equals the currently selected delta (including sign handling).\n- Preserve existing manual entry/edit flow during reconciliation (do not force auto-matching).\n\nWorkflow note:\n- Pending transactions are generally entered last; keep the default flow compatible with an oldest→newest workflow (and do not make pending entry the first/primary path).\n\nSelectors (stable for Cypress):\n- Inputs: [data-testid=reconcile-cleared-balance], [data-testid=reconcile-pending-total]\n- Deltas: [data-testid=reconcile-delta-cleared], [data-testid=reconcile-delta-pending], [data-testid=reconcile-delta-total]\n- Helpers: [data-testid=reconcile-filter-text], [data-testid=reconcile-filter-status], [data-testid=reconcile-amount-equals-diff]\n- List: [data-testid=reconcile-transaction-list]\n\nBackend decision (open):\n- Decide whether pending_total is (A) persisted on the reconciliation commit (e.g., pending_total_minor) or (B) derived from worksheet data and treated as a helper input only. Keep this issue implementable either way.\n\nRelated: dojo-pjb (epic), dojo-pjb.7 (UX-008 confirm/undo patterns), dojo-pjb.9 (UX-010 keyboard/accessibility), dojo-pjb.14 (UX-017 loading/readiness).\n","acceptance_criteria":"- Reconciliation UI labels use “Cleared balance” and “Pending total” (no legacy wording in the primary UI).\n- UI displays three currency-formatted deltas (cleared, pending, total) and updates them live as the user changes inputs or marks transactions cleared/pending.\n- Mismatch-hunting helpers exist:\n  - Search/filter controls can narrow the transaction list by text and by cleared/pending status.\n  - A one-click “Amount = diff” control filters/highlights transactions whose amount equals the current selected delta (including sign handling).\n- Manual entry flow remains available during reconciliation (user can add/edit a transaction while reconciling) and deltas update immediately after save.\n- A reconciliation session can still be completed successfully for a cash and a credit account using the updated UI.\n","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-11T13:18:49.499233126-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T14:19:23.033784785-08:00","closed_at":"2026-01-12T14:19:23.033784785-08:00","close_reason":"Milestones 1-6 completed per ExecPlan docs/plans/daily-workflow-dashboard-ledger-reconcile.md","labels":["cypress","frontend","ux"]}
{"id":"dojo-ci5","title":"UX-006: Allocation table editing","description":"Add explicit Edit and Delete affordances. Remove fixed waits (cy.wait(500), cy.wait(1000)). Use deterministic edit-mode/ready selectors. Make delete safe via confirm/undo.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-12T20:51:34.175825152-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.175825152-08:00"}
{"id":"dojo-cmp-alb","title":"Auditable Ledger and Net Worth MVP","description":"Delivered FastAPI monolith with DuckDB-backed ledger, atomic transaction recording, temporal tables, and net worth computation. All milestones from docs/plans/auditable-ledger-net-worth.md are complete. (Ref: consolidated into domain-investments-and-net-worth.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-investments-and-net-worth.md"}
{"id":"dojo-cmp-cci","title":"Cypress E2E Migration","description":"Migrated full Cypress E2E suite to work with Vue SPA, updated all Cypress page objects to target Vue selectors, and achieved deterministic test execution with time control. (Ref: consolidated into domain-infrastructure.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-infrastructure.md"}
{"id":"dojo-cmp-dmr","title":"Harden DuckDB Migrations","description":"Implemented hardened migration strategy with transactional execution, migration ID tracking, idempotence checks, and CI preflight validation. All milestones from docs/plans/db-migrations.md are complete. (Ref: consolidated into domain-infrastructure.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-infrastructure.md"}
{"id":"dojo-cmp-dpi","title":"Deployment Pipeline \u0026 Kubernetes Manifests","description":"Delivered Nix-based container builds, GitHub Actions CI/CD workflows, and Kustomize-based Kubernetes manifests for deployment. All milestones from docs/plans/deployment-pipeline.md are complete. (Ref: consolidated into domain-infrastructure.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-infrastructure.md"}
{"id":"dojo-cmp-ecr","title":"CI/Release Pipeline Implementation","description":"Implemented GitHub Actions workflows for CI (testing, linting, building) and release (semver bumping, CHANGELOG generation, git tagging, GHCR publishing). All milestones from docs/plans/ci-release-pipeline.md are complete. (Ref: consolidated into domain-infrastructure.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-infrastructure.md"}
{"id":"dojo-cmp-esa","title":"Spec-Aligned Test Suite Hardening","description":"Implemented comprehensive test coverage: pytest-cov instrumentation, feature-named integration test packages, Hypothesis property tests with deterministic seeding, cache integrity specs, deterministic time control via X-Test-Date header. Milestones 1-3 complete; Milestone 5 (performance harness) explicitly deferred per plan. (Ref: consolidated into domain-infrastructure.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-infrastructure.md"}
{"id":"dojo-cmp-fe","title":"Account Detail Pages Implementation","description":"Implemented unified account detail pages for all account types (cash, credit, investment, tangible, loan, accessible) with interactive charts, filtered ledger, and integrity actions. (Ref: consolidated into domain-ui-and-frontend.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ui-and-frontend.md"}
{"id":"dojo-cmp-iel","title":"Assets, Liabilities, and Budget Flows Implementation","description":"Implemented coherent asset/liability model, account classes, double-entry categorized transfers, Ready to Assign computation, and tangible valuation. (Ref: consolidated into domain-ledger-and-budgeting.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ledger-and-budgeting.md"}
{"id":"dojo-cmp-is","title":"Account Reconciliation Feature","description":"Implemented full account reconciliation with backend worksheet/commit logic, API endpoints, and frontend ReconciliationSession modal with extensible adapters for ledger accounts. (Ref: consolidated into domain-ui-and-frontend.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ui-and-frontend.md"}
{"id":"dojo-cmp-ldg","title":"Deliver Envelope Budget E2E MVP","description":"Completed envelope budgeting features: transaction entry, hierarchical budget management, categorized transfers, and Cypress E2E coverage for core user stories. All milestones from docs/plans/envelope-budget-e2e-mvp.md are complete. (Ref: consolidated into domain-ledger-and-budgeting.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ledger-and-budgeting.md"}
{"id":"dojo-cmp-ldg-sc2","title":"Budget Category Monthly State Rollover Fix","description":"Fixed category monthly state to carry over last month's available funds instead of starting at zero. Implemented _ensure_category_month_state helper and seeding SQL. Property test Spec 3.6 now passes deterministically. (Ref: consolidated into domain-ledger-and-budgeting.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Historical fix completed"}
{"id":"dojo-cmp-sb","title":"Daily Workflow UX: Dashboard, Transactions, Reconciliation","description":"Implemented Dashboard landing page with interactive net worth chart, account panels, and budget watchlist. (Ref: consolidated into domain-ui-and-frontend.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ui-and-frontend.md"}
{"id":"dojo-cmp-sd","title":"Daily Workflow UX: Dashboard → Transactions Entry → Reconcile","description":"Implemented unified dashboard with interactive chart showing net worth history with interval analysis. (Ref: consolidated into domain-ui-and-frontend.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ui-and-frontend.md"}
{"id":"dojo-cmp-tl","title":"Editable Ledger and SCD-2 Write Logic","description":"Implemented editable ledger UI components and backend SCD-2 logic for non-destructive edits to transactions and budget allocations with net impact validation. (Ref: consolidated into domain-ledger-and-budgeting.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ledger-and-budgeting.md"}
{"id":"dojo-cmp-vf","title":"Frontend Migration to Vue 3 + TanStack Query","description":"Migrated SPA from imperative DOM manipulation to declarative Vue 3 app with TanStack Query and Vite build pipeline. Eliminated detached element flakes and improved developer ergonomics. All milestones from docs/plans/vue-frontend.md are complete. (Ref: consolidated into domain-ui-and-frontend.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-ui-and-frontend.md"}
{"id":"dojo-cmp-wi","title":"Investment Tracking Implementation","description":"Implemented portfolio tracking with position management, market data synchronization, performance analytics, and net worth aggregation. All milestones from docs/plans/investment-tracking.md are complete. Outstanding: write Outcomes \u0026 Retrospective section. (Ref: consolidated into domain-investments-and-net-worth.md)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T15:42:13.343939312-08:00","updated_at":"2026-01-13T15:42:13.343939312-08:00","closed_at":"2026-01-13T15:42:14.343939312-08:00","close_reason":"Completed work consolidated into domain-investments-and-net-worth.md"}
{"id":"dojo-cpx","title":"Net Worth legacy tracking import + global handover mechanics","description":"Problem\nAspire contains legacy net worth tracking that must be imported into Dojo with correct sign conventions and continuity (handover) into ongoing tracking. This work covers mapping, apply semantics, and handover mechanics.\n\nAcceptance Criteria (plan sections + contracts)\n- Aligns with plan sections \"Canonical Table: Net Worth Snapshots\" and \"Confidence Report: Acceptance Math and UI Expectations\" (net worth checks + handover continuity).\n- Draft mapping supports net worth rules per \"entity_mapping_net_worth\" via PUT /api/onboarding/aspire/drafts/{draft_id}.\n- Final apply happens through POST /api/onboarding/aspire/drafts/{draft_id}/commit with idempotence per \"Idempotence and Retry (Source IDs + Rollback Expectations)\".\n- Results validated through GET /api/onboarding/aspire/import-runs/{import_run_id}/confidence-report, including \"Check: Net worth snapshot parity\" and \"Check: Handover continuity\".\n\nTesting Expectations\n- Integration test imports a net worth fixture and asserts snapshots and handover outputs are correct and stable on retry.\n- Unit tests for sign handling and mapping edge cases (missing categories, split handover destinations).","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-16T13:32:03.902265162-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:33.143372475-08:00","dependencies":[{"issue_id":"dojo-cpx","depends_on_id":"dojo-1dj","type":"blocks","created_at":"2026-01-16T13:32:28.166054652-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-cpx","depends_on_id":"dojo-aoc","type":"blocks","created_at":"2026-01-16T13:32:28.392455939-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-cqa","title":"UX: Quick Allocate Button","description":"Add a quick allocate button that allocates all 'Available to Budget' funds to categories prioritized by due date (from next_up/budgets_allocations_merge.md).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-13T14:08:44.216682143-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T14:08:44.216682143-08:00"}
{"id":"dojo-d38","title":"Investment Tracking Implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:55.461918249-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:09.022647015-08:00","closed_at":"2026-01-12T20:18:09.022647015-08:00","close_reason":"Closed"}
{"id":"dojo-d5j","title":"UX-018: Transactions fast-entry composer + keyboard-first contract","description":"Goal:\n- Make transaction entry and row actions fast, keyboard-first, and low-noise.\n\nUX direction / contract:\n- Add a fast-entry composer above the Transactions ledger.\n- Amount input is signed: positive = inflow, negative = outflow, with validation and clear sign affordance.\n- After successful submit, carry-forward defaults for Date, Account, and Status to speed repeated entry.\n- Remove per-row action buttons; actions live in a selected-row toolbar and/or right-side inspector.\n- Ledger table display keeps separate Inflow and Outflow columns (no single signed amount column in the grid).\n\nNotes:\n- This feature likely supersedes the earlier “per-row Edit/Delete buttons” direction; keep existing issue(s) for history but reconcile UX approach when implementing.\n\nRelated: dojo-pjb (epic), dojo-pjb.5 (UX-006 TransactionTable editing), dojo-pjb.9 (UX-010 keyboard/accessibility), dojo-pjb.7 (UX-008 confirm/undo).\n","acceptance_criteria":"- Transactions page exposes a fast-entry composer that can be completed end-to-end using keyboard only (tab through fields, submit without mouse).\n- Signed amount input accepts an optional leading sign and is interpreted as: \"+\" = inflow, \"-\" = outflow.\n- Ledger grid retains separate Inflow and Outflow columns (no single signed amount column in the grid); submitted signed amounts render into the correct column (e.g., +12.34 =\u003e Inflow $12.34 and Outflow blank; -12.34 =\u003e Outflow $12.34 and Inflow blank).\n- After successful submit, Date/Account/Status carry forward by default for the next entry; Amount clears and focus returns to the amount input (keyboard-first).\n- Transaction rows contain no per-row action buttons; row actions are available via a selected-row toolbar/inspector and are keyboard-accessible.\n- UI exposes stable selectors for Cypress at minimum: [data-testid=transaction-composer], [data-testid=transaction-composer-amount], [data-testid=transaction-composer-submit], [data-testid=transaction-selection-toolbar], [data-testid=transaction-action-edit], [data-testid=transaction-action-status], [data-testid=transaction-action-delete].\n- Cypress: update user stories 05 (manual transaction lifecycle), 06 (editable ledger rows), and 14 (monthly summary cards) plus cypress/support/pages/TransactionPage.js to use the composer + selection toolbar contract (no reliance on inflow/outflow radios or Enter-to-save inline editing).\n","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-11T13:18:32.039644814-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T14:19:23.026902136-08:00","closed_at":"2026-01-12T14:19:23.026902136-08:00","close_reason":"Milestones 1-6 completed per ExecPlan docs/plans/daily-workflow-dashboard-ledger-reconcile.md","labels":["cypress","frontend","ux"]}
{"id":"dojo-d8z","title":"Milestone 4: Spec-complete Cypress journeys and cleanup","description":"Replace cypress/e2e/user-stories with cypress/e2e/specs/ containing seven spec-aligned files. Retire redundant stories. Ensure scripts run with green runs in two consecutive executions, and analytics show no network retries/timeouts.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T20:52:22.346323596-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:52:22.346323596-08:00"}
{"id":"dojo-dqq","title":"Aspire XLSX table detection + header/column inference with user overrides","description":"Problem\nAspire XLSX files vary: sheet names, header row locations, and column labels can differ. We need deterministic table candidate detection + column inference, with explicit user overrides, to feed the migration draft workflow.\n\nAcceptance Criteria (plan sections + contracts)\n- Aligns with plan sections \"Canonical Table Specs (Aspire -\u003e Dojo)\" and \"Milestone 1: XLSX ingestion + table detection with user overrides (dojo-dqq)\".\n- Implements detector output consumed by \"Preview (table candidates)\" via GET /api/onboarding/aspire/uploads/{upload_id}/preview.\n- Upload flow uses POST /api/onboarding/aspire/uploads and returns upload_id + file_sha256 per \"Upload\".\n- Detection must not assume fixed header row; must support override (header row index / column mapping) consistent with \"Preview (table candidates)\" expectations.\n\nTesting Expectations\n- Unit tests for header-row inference + column mapping across at least 2 fixture spreadsheets (different header row positions / naming).\n- Integration test that POSTs an upload and verifies GET preview returns stable candidate tables + inferred columns.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-16T13:32:03.415567545-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:17.735662783-08:00"}
{"id":"dojo-e5e","title":"Cypress E2E Migration","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:29:31.720101013-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:29:33.954644874-08:00","closed_at":"2026-01-13T13:29:33.954644874-08:00","close_reason":"This feature, as documented in docs/plans/cypress-e2e-migration.md and docs/plans/archive/cypress-e2e-migration-summary.md, is already completed."}
{"id":"dojo-ehk","title":"Implement Assets, Liabilities, and Budget Flows","description":"Implemented coherent asset/liability model, account classes (cash, credit, investment, etc.), double-entry categorized transfers, Ready to Assign computation, and tangible valuation tables. (Ref: docs/plans/assets-liabilities-budget-flows.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:07.666064078-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:07.707997815-08:00","closed_at":"2026-01-13T13:50:07.707997815-08:00","close_reason":"Historical work completed"}
{"id":"dojo-f3i","title":"Cypress E2E Migration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:53.509217704-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:08.987292123-08:00","closed_at":"2026-01-12T20:18:08.987292123-08:00","close_reason":"Closed"}
{"id":"dojo-fjo","title":"CI/Release Pipeline Implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:53.150349567-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:08.98134228-08:00","closed_at":"2026-01-12T20:18:08.98134228-08:00","close_reason":"Closed"}
{"id":"dojo-fy8","title":"Feature: Spec-Aligned Test Suite Hardening","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:52:22.260055535-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:52:27.625519063-08:00","closed_at":"2026-01-12T20:52:27.625519063-08:00","close_reason":"Milestones 1-3 of Spec-Aligned Test Suite Hardening completed as per docs/plans/spec-aligned-test-suite.md."}
{"id":"dojo-gmk","title":"UX-001: Account detail navigation","description":"Decide on modal vs route contract. Add deterministic landmark. Update Cypress story 15 to match chosen contract.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:34.433843224-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.433843224-08:00"}
{"id":"dojo-gob","title":"Pristine DB detection + onboarding gating (backend + frontend)","description":"## End State\nApp can reliably detect whether the DB is pristine (no user-ledger/budget data) and gate the Aspire Migration Wizard entry accordingly (backend guard + frontend routing/UX).\n\n## Acceptance Criteria\n- Backend exposes a single source of truth for \"is_pristine\" used by SPA (and by API to enforce safety).\n- SPA onboarding route shows Migration Wizard CTA only when pristine; otherwise shows a clear explanation and disables the flow.\n- Optional explicit dev override exists (env var / config flag) and is clearly labeled in UI to avoid accidental use.\n- Gating prevents any import endpoints from mutating non-pristine DBs (hard 409/403 with actionable error).\n\n## Test Expectations\n- Unit/integration tests cover pristine detection logic across representative seeded DB states.\n- API tests verify import endpoints reject non-pristine DBs.\n- Frontend tests (or e2e) verify routing/CTA visibility for pristine vs non-pristine.","acceptance_criteria":"- Pristine detection API + server-side enforcement\n- SPA onboarding gating + messaging\n- Safe dev override","notes":"Testing must not depend on real Aspire files.","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-23T13:14:34.173060701-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:14:34.173060701-08:00","dependencies":[{"issue_id":"dojo-gob","depends_on_id":"dojo-oz6","type":"blocks","created_at":"2026-01-23T13:16:13.786563235-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-h3o","title":"Aspire Spreadsheet Migration Wizard (accounts + budget + net worth + verification)","description":"Problem\nThe Aspire migration wizard is a multi-step UX that uploads an Aspire spreadsheet, guides users through table/mapping choices, validates with dry-runs, then commits idempotently and displays a confidence report. This issue wires the UI state machine to the backend contracts in the ExecPlan.\n\nPlan Link\n- docs/plans/aspire-migration-wizard.md\n\nNon-Negotiables\n- No name assumptions (sheet names, column names, account/category labels are user data; never hardcode).\n- No fixed header row assumptions (header may not be row 1; must detect and/or allow user override).\n- Idempotent commit replay semantics: re-sending commit must not double-apply; safe for retries.\n\nAcceptance Criteria (must match plan sections + contracts)\n- Implements the flow in plan section \"Wizard State Machine (Flow Control + Resume)\" and hydrates from \"API Contracts (Requests, Responses, Errors)\".\n- UI calls: POST /api/onboarding/aspire/uploads; GET /api/onboarding/aspire/uploads/{upload_id}/preview.\n- UI persists/resumes draft using: POST /api/onboarding/aspire/drafts; GET /api/onboarding/aspire/drafts/{draft_id}; PUT /api/onboarding/aspire/drafts/{draft_id}.\n- UI runs validation using: POST /api/onboarding/aspire/drafts/{draft_id}/dry-run and surfaces blocking errors vs warnings per \"Error Envelope (all endpoints)\".\n- UI commits using: POST /api/onboarding/aspire/drafts/{draft_id}/commit with UX consistent with \"Idempotence and Retry (Source IDs + Rollback Expectations)\" and \"Commit atomicity\".\n- UI shows results using: GET /api/onboarding/aspire/import-runs/{import_run_id}/confidence-report and renders checks per \"Confidence Report: Acceptance Math and UI Expectations\".\n\nTesting Expectations\n- Frontend: unit tests for state-machine transitions + error rendering (blocking vs warning).\n- Backend/Integration: at least one integration test that exercises end-to-end happy path across the above endpoints (upload -\u003e preview -\u003e draft -\u003e dry-run -\u003e commit -\u003e confidence report).\n- E2E (optional but preferred): cypress flow that uploads a fixture, completes mappings, commits, and asserts confidence report renders.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-16T13:32:03.172332834-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:12.875688356-08:00","dependencies":[{"issue_id":"dojo-h3o","depends_on_id":"dojo-dqq","type":"blocks","created_at":"2026-01-16T13:32:26.625829618-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-h3o","depends_on_id":"dojo-1dj","type":"blocks","created_at":"2026-01-16T13:32:26.865190549-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-h3o","depends_on_id":"dojo-zqf","type":"blocks","created_at":"2026-01-16T13:32:27.087392307-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-h3o","depends_on_id":"dojo-cpx","type":"blocks","created_at":"2026-01-16T13:32:27.324238192-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-h3o","depends_on_id":"dojo-aoc","type":"blocks","created_at":"2026-01-16T13:32:27.533125531-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-h3o","depends_on_id":"dojo-p60","type":"blocks","created_at":"2026-01-16T13:32:27.752104203-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-h3o","depends_on_id":"dojo-u9n","type":"blocks","created_at":"2026-01-16T13:32:27.944866378-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-hz5","title":"Aspire Migration Wizard (Umbrella)","description":"## End State\nA guided, multi-step Aspire Migration Wizard imports an Aspire-exported XLSX into Dojo with a safe, repeatable, test-backed pipeline (session upload -\u003e preview/mapping -\u003e staged plan/apply -\u003e verification).\n\nScope includes onboarding gating for pristine DBs, preview + mapping UI, staged imports (accounts, budgets, transactions, allocations, net worth history), and deterministic test harnesses.\n\n## Acceptance Criteria\n- Wizard is accessible only when DB is pristine (or via explicit dev override), and never corrupts existing user data.\n- User can upload an Aspire export XLSX, preview sheets, configure mappings, and run staged imports end-to-end.\n- Imports are idempotent (re-run does not duplicate) and produce stable concept IDs for transactions/allocations.\n- CI has deterministic tests proving end-to-end correctness using a generated mock workbook.\n\n## Test Expectations\n- Unit + integration tests cover each stage planner/applier and idempotence invariants.\n- Deterministic CI test covers full wizard import using mock workbook; asserts resulting DB invariants (counts, balances, category links, net worth snapshots).\n- No tests or logs ever print sensitive workbook values; structural-only parity tests are local-only and gated.","acceptance_criteria":"- Gated wizard entry for pristine DB\n- Session upload + preview + mapping UI\n- Staged plan/apply imports\n- Deterministic CI test coverage\n- Local-only structural parity checks","notes":"Owner acceptance: end-to-end flow is demoable locally via SPA + API with fixtures; CI proves determinism.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:14:20.05282977-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:14:20.05282977-08:00","dependencies":[{"issue_id":"dojo-hz5","depends_on_id":"dojo-uli","type":"blocks","created_at":"2026-01-23T13:24:26.836065767-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-oz6","type":"blocks","created_at":"2026-01-23T13:25:43.36429332-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-4nx","type":"blocks","created_at":"2026-01-23T13:25:43.528911253-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-ikx","type":"blocks","created_at":"2026-01-23T13:25:43.820854227-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-obq","type":"blocks","created_at":"2026-01-23T13:25:43.897278678-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-oh7","type":"blocks","created_at":"2026-01-23T13:25:43.972724214-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-ti4","type":"blocks","created_at":"2026-01-23T13:25:44.046327702-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-0ye","type":"blocks","created_at":"2026-01-23T13:25:44.124966546-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-4r5","type":"blocks","created_at":"2026-01-23T13:25:44.200796276-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-7n0","type":"blocks","created_at":"2026-01-23T13:26:39.164782251-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-bhm","type":"blocks","created_at":"2026-01-23T13:26:44.68800974-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-6vp","type":"blocks","created_at":"2026-01-23T13:26:47.336339947-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-00u","type":"blocks","created_at":"2026-01-23T13:26:50.942227588-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-hz5","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:26:56.846201297-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-ikx","title":"XLSX schema detection + override knobs (backend)","description":"## End State\nBackend can analyze an uploaded Aspire export workbook and infer schema: sheet identities, header rows, required columns, and a proposed mapping to Dojo import concepts; user/SPA can override ambiguous parts via explicit knobs.\n\n## Acceptance Criteria\n- Endpoint returns detected workbook \"profile\" (version/variant), discovered sheets, and per-sheet column candidates with confidence hints.\n- Supports explicit overrides: sheet name selection, header row index, column-to-field mapping, date/amount formats if needed.\n- Validates overrides and returns actionable errors (missing required columns, duplicate keys, unsupported format).\n- Detection logic is deterministic for a given workbook.\n\n## Test Expectations\n- Unit tests for detection heuristics across mock workbook variants.\n- Integration tests verifying override validation and deterministic outputs.\n- Snapshot-like tests allowed only on structural metadata (sheet/column names), never on sensitive cell values.","acceptance_criteria":"- Deterministic detection outputs\n- Override model + validation\n- Clear errors for unsupported/missing schema","notes":"Design should keep parsing + detection reusable for later import stages.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:14:44.81040107-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:14:44.81040107-08:00","dependencies":[{"issue_id":"dojo-ikx","depends_on_id":"dojo-oz6","type":"blocks","created_at":"2026-01-23T13:16:13.824448749-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-isc","title":"UX: Allocation Form Modal","description":"Refactor allocation creation to use a modal form instead of inline or separate page (from next_up/budgets_allocations_merge.md). Note: Coordinate with UX-008 (Budgets/Allocations IA split).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-13T14:08:44.298061183-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T14:08:44.298061183-08:00"}
{"id":"dojo-itw","title":"Editable Ledger Tables and SCD-2 Write Logic","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:54.86782984-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:09.010923077-08:00","closed_at":"2026-01-12T20:18:09.010923077-08:00","close_reason":"Closed"}
{"id":"dojo-iuk","title":"UX-005: Transaction table editing","description":"Add explicit Edit and Delete affordances per row. Expose Save/Cancel controls while editing. Remove Enter-to-save implicit behavior. Provide safer delete with confirm/undo. Add stable selectors: [data-transaction-edit], [data-transaction-save], etc.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-12T20:51:34.140930778-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.140930778-08:00"}
{"id":"dojo-kdj","title":"Feature: Investment Tracking (Positions + Market Valuation, Dual-State Cash Model)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:52:06.483066982-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:52:10.494588276-08:00","closed_at":"2026-01-12T20:52:10.494588276-08:00","close_reason":"All development work for Investment Tracking has been completed as per docs/plans/investment-tracking.md."}
{"id":"dojo-ks5","title":"Assets, Liabilities, and Budget Flows Implementation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:52.251786545-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:08.969285986-08:00","closed_at":"2026-01-12T20:18:08.969285986-08:00","close_reason":"Closed"}
{"id":"dojo-lck","title":"Feature: Account Detail Pages for All Account Types","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:51:44.675318497-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:47.415513324-08:00","closed_at":"2026-01-12T20:51:47.415513324-08:00","close_reason":"All development work for Account Detail Pages for All Account Types has been completed as per docs/plans/account-detail-pages.md."}
{"id":"dojo-lib","title":"Frontend Migration to Vue 3 + TanStack Query","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:55.819586987-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:09.0284217-08:00","closed_at":"2026-01-12T20:18:09.0284217-08:00","close_reason":"Closed"}
{"id":"dojo-mum","title":"Implement Editable Ledger and SCD-2 Write Logic","description":"Developed shared editable ledger UI components and backend SCD-2 logic for non-destructive edits to transactions and budget allocations, including \"Net Impact\" validation. (Ref: docs/plans/editable-ledger-scd2-write-logic.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:07.959777219-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:08.016293325-08:00","closed_at":"2026-01-13T13:50:08.016293325-08:00","close_reason":"Historical work completed"}
{"id":"dojo-obq","title":"Accounts import stage (plan/apply + UI)","description":"## End State\nWizard stage to import accounts from Aspire into Dojo with a two-phase workflow: (1) plan preview (dry run) and (2) apply (transactional write), with UI review and clear results.\n\n## Acceptance Criteria\n- Backend provides plan endpoint returning intended account creations/updates (no writes) with validation errors/warnings.\n- Backend apply endpoint performs transactional writes; safe to retry (idempotent on logical keys).\n- UI shows planned accounts, allows user to confirm/apply, and displays resulting Dojo account IDs/names.\n\n## Test Expectations\n- Integration tests assert plan has no writes and apply writes expected rows.\n- Idempotence test: applying same plan twice does not duplicate accounts.\n- UI smoke/e2e covers stage transitions and error handling.","acceptance_criteria":"- Plan/apply endpoints for accounts\n- Idempotent apply\n- Wizard UI for review + apply","notes":"Define a stable natural key strategy for accounts (or explicit mapping key) early.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:14:54.313316003-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:14:54.313316003-08:00","dependencies":[{"issue_id":"dojo-obq","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:16:13.934222755-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-obq","depends_on_id":"dojo-7n0","type":"blocks","created_at":"2026-01-23T13:16:13.97072573-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-oh7","title":"Net worth history import stage (tracking accounts + delta adjustments + investment/mortgage strategy + UI)","description":"## End State\nWizard stage imports Aspire net worth history into Dojo with explicit strategies for: tracking accounts, delta adjustments, investment accounts, and mortgages/loans; includes UI review and a clear reconciliation story.\n\n## Acceptance Criteria\n- Supports mapping Aspire net worth series to Dojo accounts (or creating tracking accounts) with clear strategy choices in UI.\n- Imports historical snapshots or delta events without corrupting current balances; handles missing dates and partial series.\n- Strategy options documented in UI (e.g., create tracking accounts vs infer from transactions; mortgage principal tracking).\n\n## Test Expectations\n- Integration tests validate resulting net worth snapshots and per-account histories are consistent and deterministic.\n- Tests cover investment/mortgage edge cases (signs, appreciation, payoff).\n- No printing of real values in logs/tests; assertions should be on computed invariants and known fixture values.","acceptance_criteria":"- Net worth history plan/apply\n- Strategy selection + UI review\n- Deterministic results + invariants","notes":"This stage is allowed to be opinionated; make tradeoffs explicit.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:15:12.870076335-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:15:12.870076335-08:00","dependencies":[{"issue_id":"dojo-oh7","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:16:14.227070019-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-oh7","depends_on_id":"dojo-7n0","type":"blocks","created_at":"2026-01-23T13:16:14.263779737-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-oh7","depends_on_id":"dojo-obq","type":"blocks","created_at":"2026-01-23T13:16:14.484265422-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-okl","title":"Record passing runs and capture outcomes for Cypress E2E Migration","description":"Record passing runs for pytest and npx cypress run --e2e --browser \u003cbrowser\u003e [--headed], then capture outcomes for the Cypress E2E Migration as per docs/plans/cypress-e2e-migration.md.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:58:07.733947657-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:58:07.733947657-08:00"}
{"id":"dojo-oz6","title":"XLSX session upload + preview-grid endpoint (backend)","description":"## End State\nBackend supports creating a short-lived import session by uploading an XLSX, and can return a sanitized preview grid (rows/cols) for selected sheets/ranges to power UI preview/mapping.\n\n## Acceptance Criteria\n- POST endpoint accepts XLSX upload and returns session_id; server stores the workbook in a temp/session store with TTL.\n- GET preview-grid endpoint returns a normalized grid representation (headers, rows, cell values as strings) with stable ordering and bounded size (max rows/cols).\n- Endpoints validate file type/size, handle corrupt workbooks, and do not log cell values.\n- Session lifecycle: explicit delete/expire path; expired session returns clear 404/410.\n\n## Test Expectations\n- API integration tests upload a small generated XLSX and assert preview-grid shapes and truncation behavior.\n- Error-path tests: non-xlsx, oversized, corrupt zip, missing sheet, expired session.\n- Logging tests/assertions ensure no cell contents are emitted to logs.","acceptance_criteria":"- Upload creates session_id with TTL\n- Preview-grid returns bounded grid\n- No sensitive logging\n- Robust error handling","notes":"Prefer deterministic in-repo XLSX fixture for tests (generated or minimal).","status":"open","priority":0,"issue_type":"feature","created_at":"2026-01-23T13:14:40.073361433-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:14:40.073361433-08:00"}
{"id":"dojo-p1p","title":"Migrate Frontend to Vue 3 + TanStack Query","description":"Migrated the SPA from imperative DOM manipulation to a declarative Vue 3 app with TanStack Query and Vite, eliminating detached element flakes and improving developer ergonomics. (Ref: docs/plans/vue-frontend.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:08.224400892-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:08.268309951-08:00","closed_at":"2026-01-13T13:50:08.268309951-08:00","close_reason":"Historical work completed"}
{"id":"dojo-p60","title":"Wizard confidence report + parity checks vs source spreadsheet","description":"Problem\nAfter a migration commit, users need a confidence report that quantifies parity between the Aspire source and Dojo-imported results (counts, balances, allocations, net worth, continuity).\n\nAcceptance Criteria (plan sections + contracts)\n- Aligns with plan section \"Confidence Report: Acceptance Math and UI Expectations\" including checks: row counts, per-account balance parity, per-category parity, allocations parity, net worth snapshot parity, and handover continuity.\n- Implements GET /api/onboarding/aspire/import-runs/{import_run_id}/confidence-report and returns data sufficient to render those checks.\n- Report is produced from the same committed import as POST /api/onboarding/aspire/drafts/{draft_id}/commit; no recomputation that can drift from the commit.\n\nTesting Expectations\n- Integration test: run commit then fetch confidence report and assert each check category is present with expected values on fixture data.\n- Unit tests for acceptance math helpers (counts, per-account parity, per-category parity) with clear tolerances/rounding consistent with plan.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-16T13:32:04.503100252-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:37.639866771-08:00","dependencies":[{"issue_id":"dojo-p60","depends_on_id":"dojo-1dj","type":"blocks","created_at":"2026-01-16T13:32:28.79523542-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-p60","depends_on_id":"dojo-zqf","type":"blocks","created_at":"2026-01-16T13:32:29.01023192-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb","title":"Cypress-grounded UX audit follow-ups (2026-01-11)","description":"Fan-out epic for UX audit findings grounded in Cypress user stories; child issues capture evidence, problem statement, recommendation, and verifiable acceptance.","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-10T16:36:34.704231937-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:36:34.704231937-08:00","labels":["cypress","ux"]}
{"id":"dojo-pjb.1","title":"UX-001: Standardize account detail navigation (modal vs route)","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/15-account-onboarding-ledger.cy.js — \"records opening balances, shows cards/modals, and reconciles hero stats\"\n- Click path: .account-card__name → .account-card click → expects modal via [data-modal-label] + [data-modal-balance], closes with [data-close-modal]\n- Audit finding: app now navigates to /#/accounts/:accountId instead of showing the modal expected by this story\n\nProblem:\n- Accounts overview → account detail interaction is inconsistent with the Cypress-grounded UX contract, causing paradigm drift (modal vs full-route navigation).\n- This drift breaks user expectations and forces Cypress tests to encode unstable assumptions.\n\nRecommendation:\n- Decide and standardize a single interaction contract for account cards (either modal detail or routed detail page).\n- Add a deterministic landmark for the chosen contract (e.g., [data-account-detail-modal] or [data-account-detail-page]) so Cypress can assert without relying on incidental DOM structure.","acceptance_criteria":"- Either (A) clicking an account card on /#/accounts opens a detail modal with stable selectors, OR (B) it routes to /#/accounts/:accountId and shows a stable page landmark.\n- Update cypress/e2e/user-stories/15-account-onboarding-ledger.cy.js to match the chosen contract (no brittle modal assumptions if routing).\n- Cypress story 15 passes without workarounds or fixed waits.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-10T16:40:30.245355241-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:40:30.245355241-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.1","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:40:30.246382821-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.10","title":"UX-011: Remove fixed cy.wait by adding deterministic ready landmarks","description":"Evidence:\n- Fixed waits exist in Cypress user stories:\n  - cypress/e2e/user-stories/05-manual-transaction-lifecycle.cy.js: cy.wait(1000) (Vue hydrate)\n  - cypress/e2e/user-stories/17-editable-allocation-ledger.cy.js: cy.wait(500) (Vue update after row click)\n  - cypress/e2e/user-stories/19-allocations-page.cy.js: cy.wait(1000) (Vue render)\n\nProblem:\n- Arbitrary waits introduce flakiness and slow the suite; they also hide real readiness/loading bugs in the UI.\n\nRecommendation:\n- Add deterministic readiness landmarks in the UI/store lifecycle (e.g., [data-app-ready], [data-page-ready], or per-component ready states).\n- Prefer waiting on network aliases + UI landmarks over time-based sleeps.","acceptance_criteria":"- Eliminate cy.wait(500/1000) from the Cypress user stories listed above by replacing with deterministic UI readiness selectors (and/or network waits).\n- Cypress stories remain stable without increasing total runtime via larger fixed waits.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T16:57:05.703349994-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:57:05.703349994-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.10","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:57:05.704392194-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.11","title":"UX-012: Align terminology (Ready to Assign, groups, envelopes/categories)","description":"Evidence:\n- Cypress uses inconsistent terminology across stories:\n  - cypress/e2e/user-stories/09-quick-allocate-budget-modal.cy.js: test titles + alert message use both \"Ready-to-Assign\" and \"Ready to Assign\"\n  - cypress/e2e/user-stories/19-allocations-page.cy.js: error text \"Ready-to-Assign is insufficient for this allocation.\"\n  - cypress/e2e/user-stories/14-display-monthly-summary-cards.cy.js: UI label used in allocation transfer is \"Ready to Assign\"\n\nProblem:\n- Inconsistent naming increases confusion and makes tests/copy brittle (string-matching drifts over time).\n\nRecommendation:\n- Pick canonical terminology and apply consistently in UI labels, errors, and Cypress assertions (including data-test selectors where possible).\n- Clarify: “budget category” vs “envelope”, “group” vs “budget group”, and hyphenation of “Ready to Assign”.","acceptance_criteria":"- UI strings and error messages use consistent terminology (canonical spelling/hyphenation) across budgets/allocations/transactions.\n- Update Cypress stories that assert these strings to match the canonical terminology (no mixed \"Ready-to-Assign\" vs \"Ready to Assign\").","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-10T16:57:14.052290305-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:57:14.052290305-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.11","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:57:14.053287787-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.12","title":"UX-013: Add explainability for credit payments + transfers-as-spending","description":"Evidence:\n- Credit card payment categories:\n  - cypress/e2e/user-stories/16-credit-transaction-correction-workflow.cy.js — \"corrects a credit card transaction by changing the account and updates all summaries\"\n  - Budget page asserts system-like categories such as \"Visa Signature Payment\" and \"Mastercard Rewards Payment\" change as a side-effect of spending\n- Transfers-as-spending:\n  - cypress/e2e/user-stories/12-investment-transfers-treated-as-spending.cy.js — \"logs a Down Payment Fund transfer as budget activity without touching net worth\"\n\nProblem:\n- Users don't get enough in-context explanation for why certain system categories change (credit payment envelopes) or why a transfer counts as spending activity while net worth stays constant.\n- This is especially confusing during correction workflows (changing credit account) where multiple summaries move together.\n\nRecommendation:\n- Add an \"Explain this\" affordance (tooltip/drawer) on credit payment categories and on transfer flows, showing a plain-language breakdown of impacts (budgets, account balances, net worth, and why).\n- Add an impact preview before committing high-stakes edits/transfers (what will change, in which direction, and why).","acceptance_criteria":"- Credit payment categories and transfer flows include an accessible explanation affordance with stable selectors for Cypress.\n- Before committing, users can preview the impact on budgets/accounts/net worth for (a) credit card spending corrections and (b) transfers treated as spending.\n- Update Cypress stories 16 and 12 to assert presence/behavior of the explanation/preview instead of relying on implicit knowledge.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T16:57:26.872460509-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:57:26.872460509-08:00","labels":["backend","cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.12","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:57:26.873518386-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.13","title":"UX-015: Separate system categories in transaction category select","description":"Evidence:\n- Transaction category picker exists as a single \u003cselect\u003e: cypress/support/pages/TransactionPage.js uses [data-transaction-category].\n- System-generated categories appear in budgeting flows:\n  - cypress/e2e/user-stories/16-credit-transaction-correction-workflow.cy.js asserts categories like \"Visa Signature Payment\" exist alongside normal categories\n  - cypress/e2e/user-stories/18-budget-group-reorder.cy.js ignores group IDs like \"credit_card_payments\" and \"uncategorized\" during reorder\n\nProblem:\n- When system categories (payments, uncategorized, etc.) are mixed into the same category select as user categories, it's easy to pick the wrong thing and hard to understand why it exists.\n\nRecommendation:\n- Visually separate and label system categories in the transaction category select (grouped \u003coptgroup\u003e, badges, or an Advanced toggle).\n- Consider backend-provided metadata (is_system, category_kind) so the frontend can group consistently.","acceptance_criteria":"- Transaction category select clearly separates user categories from system categories (labeled groups or gated behind Advanced).\n- Cypress selectors can deterministically select user categories without being brittle to option ordering.\n- System categories remain available where needed but are harder to choose accidentally.","status":"open","priority":4,"issue_type":"feature","created_at":"2026-01-10T16:57:36.624801401-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:57:36.624801401-08:00","labels":["backend","cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.13","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:57:36.6258987-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.14","title":"UX-017: Harden loading/data freshness (remove ensureBackendState dependency)","description":"Evidence:\n- Cypress tests use cy.ensureBackendState as a guardrail for UI readiness/data freshness:\n  - cypress/e2e/user-stories/02-covering-overspending.cy.js\n  - cypress/e2e/user-stories/05-manual-transaction-lifecycle.cy.js\n  - cypress/e2e/user-stories/06-editable-ledger-rows.cy.js\n  - cypress/e2e/user-stories/13-correct-handling-inflows.cy.js\n- Additional symptoms of fragility:\n  - cypress/e2e/user-stories/05-manual-transaction-lifecycle.cy.js uses cy.reload() + cy.wait(1000) to avoid legacy/iframe hydration issues\n\nProblem:\n- The UI allows interaction before the underlying data/store state is fully loaded or consistent, forcing tests to add ad-hoc readiness polling.\n- This manifests as flakiness and inconsistent data visibility (especially when switching between routes that involve legacy host/iframe behavior).\n\nRecommendation:\n- Gate primary actions on explicit ready states (per-page/per-component), with deterministic loading indicators and disabled controls until ready.\n- Provide stable readiness landmarks for Cypress (e.g., [data-page-ready=true]) and ensure route transitions fully tear down legacy artifacts.\n- Where needed, improve backend consistency signals (ETags/versioning) so the frontend can reason about freshness.","acceptance_criteria":"- Pages expose deterministic ready landmarks and disable interaction until ready, eliminating the need for most cy.ensureBackendState usage.\n- Reduce/remove cy.ensureBackendState from stories 02, 05, 06, and 13 by waiting on UI readiness instead.\n- Remove cy.reload()+cy.wait(1000) hacks in story 05 by fixing underlying route/hydration transitions.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-10T16:57:57.897888951-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:57:57.897888951-08:00","labels":["backend","cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.14","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:57:57.89901753-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.2","title":"UX-002: Restore investment portfolio entry point from Accounts","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/20-investment-tracking.cy.js — \"navigates from accounts to portfolio and shows NAV + holdings\"\n- Flow: /#/accounts → click .account-card__name (Brokerage Account) → click [data-view-portfolio-button] → expects hash to contain /investments/brokerage_account\n- Audit finding: router redirects /investments/:accountId → /accounts/:accountId, breaking the investment tracking entry point\n\nProblem:\n- Investment tracking is not reachable via the expected UI affordance, and the investment route is not stable.\n- Cypress story 20 encodes the intended UX; the current redirect prevents reaching the portfolio view.\n\nRecommendation:\n- Ensure [data-view-portfolio-button] navigates to an investment portfolio route that renders successfully (no redirect back to accounts).\n- Add a stable page landmark for the investments view (e.g., [data-testid=investment-nav] already used) and keep the route contract consistent.","acceptance_criteria":"- Clicking [data-view-portfolio-button] from an account card consistently navigates to /#/investments/:accountId and renders the portfolio view without redirecting to /#/accounts/:accountId.\n- cypress/e2e/user-stories/20-investment-tracking.cy.js passes without route workarounds.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-10T16:40:39.026494776-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:40:39.026494776-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.2","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:40:39.027598997-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.3","title":"UX-003: Replace insufficient RTA window.alert with inline UX feedback","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/09-quick-allocate-budget-modal.cy.js — \"shows an error and skips the allocation when Ready-to-Assign is insufficient\"\n  - Stubs window.alert and expects message \"Not enough Ready to Assign funds.\"\n  - Ensures POST /api/budget/allocations is not called\n  - Uses Budget modal selectors (#budget-detail-modal, quick-allocations__actions)\n- Cypress: cypress/e2e/user-stories/10-group-quick-allocation.cy.js — \"blocks the Spent Last Month action when funds are insufficient\"\n  - Also stubs window.alert with the same message\n\nProblem:\n- window.alert is disruptive, non-stylable, and inconsistent with the rest of the app UX.\n- Cypress has to stub global alerts, which is brittle and doesn't validate in-app affordances.\n\nRecommendation:\n- Replace alert-based validation with an in-modal inline error (or toast) that is accessible and testable (e.g., [data-testid=quick-allocate-error]).\n- Keep the invariant: insufficient RTA must block the action and must not send allocation writes.","acceptance_criteria":"- Insufficient RTA quick-allocation attempts show an in-app error state (modal inline +/or toast) and do not call POST /api/budget/allocations.\n- Remove window.alert usage from these flows; Cypress no longer stubs alerts in cypress/e2e/user-stories/09-quick-allocate-budget-modal.cy.js and cypress/e2e/user-stories/10-group-quick-allocation.cy.js.\n- Both stories pass with deterministic selectors for the error state.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T16:40:49.372486914-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:40:49.372486914-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.3","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:40:49.373508364-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.4","title":"UX-005: Make group quick allocation atomic (bulk endpoint + progress)","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/10-group-quick-allocation.cy.js — \"allocates spent-last-month totals across all group categories\"\n  - Intercepts POST /api/budget/allocations as @groupAllocation\n  - Waits twice: cy.wait(\"@groupAllocation\"); cy.wait(\"@groupAllocation\"); implying multiple writes for one user action\n  - Triggered via #group-detail-modal quick allocation button\n\nProblem:\n- A single group-level quick action fans out into multiple writes, increasing failure surface area and making partial success likely if the client or network fails mid-stream.\n- UX has no clear progress/summary or rollback semantics for multi-write operations.\n\nRecommendation:\n- Add a transactional bulk/group allocation endpoint that performs all category allocations in one server-side transaction and returns a summary (per-category amounts, resulting RTA).\n- Update the UI to show progress + a clear completion summary, and make Cypress assert a single request for the action.","acceptance_criteria":"- One group quick-allocation click results in a single API request that performs all allocations atomically (all-or-nothing).\n- UI shows deterministic progress and a completion summary (with stable selectors).\n- Update cypress/e2e/user-stories/10-group-quick-allocation.cy.js to wait for a single request (no duplicate cy.wait(\"@groupAllocation\")).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T16:40:59.33117444-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:40:59.33117444-08:00","labels":["backend","cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.4","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:40:59.332648828-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.5","title":"UX-006: Make TransactionTable editing explicit + safer delete","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/06-editable-ledger-rows.cy.js — \"edits an erroneous utility payment down to 30.00 while keeping Ready-to-Assign stable\"\n  - Enters edit mode via a table-cell click: #transactions-body tr [data-testid=transaction-col-account]\n  - Saves by typing {enter} into [data-inline-outflow] (no explicit Save/Cancel)\n  - Status toggled via [data-inline-status-toggle]\n- Cypress: cypress/e2e/user-stories/06-editable-ledger-rows.cy.js — \"removes a transaction by toggling its status to inactive\" (delete-by-status cycling)\n- Cypress: cypress/e2e/user-stories/14-display-monthly-summary-cards.cy.js also saves edits via Enter\n\nProblem:\n- Inline editing is discoverable only via row/cell click, and commit is implicit via Enter; this is easy to miss and hard to use safely.\n- “Delete” semantics are currently conflated with status cycling (pending → cleared → voided), which is risky and not user-obvious.\n\nRecommendation:\n- Add explicit edit affordances per row (Edit button/icon) and explicit Save/Cancel controls while editing.\n- Provide a safer, consistent delete workflow (confirm + undo where possible), and decouple “void/cleared” status from “remove from active view.”\n- Add stable data selectors for edit/save/cancel/delete so Cypress can stop relying on cell-click + Enter.","acceptance_criteria":"- Transaction rows expose explicit Edit and Delete affordances; edit mode exposes Save/Cancel controls with stable selectors (e.g., [data-transaction-edit], [data-transaction-save], [data-transaction-cancel], [data-transaction-delete]).\n- Deleting/removing a transaction uses a consistent confirm/undo pattern (not status-cycling), and is auditable.\n- Update cypress/e2e/user-stories/06-editable-ledger-rows.cy.js and cypress/e2e/user-stories/14-display-monthly-summary-cards.cy.js to use explicit controls (no cell-click + Enter assumptions).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T16:41:10.679437011-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:41:10.679437011-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.5","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:41:10.680557845-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.6","title":"UX-007: Improve AllocationTable inline edit/delete (no waits, confirm/undo)","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/17-editable-allocation-ledger.cy.js — \"User Story 17 – user can edit an allocation inline and RTA updates correctly\"\n  - Enters edit mode via row click: #allocations-body tr\n  - Uses fixed wait: cy.wait(500) to let Vue update\n  - Deletes via button[title='Delete allocation'] and DELETE /api/budget/allocations/*\n  - No explicit confirm/undo semantics asserted\n- Cypress: cypress/e2e/user-stories/19-allocations-page.cy.js — \"allows creating and editing allocations\"\n  - Uses cy.wait(1000) for render\n  - Saves inline edits via Enter (AllocationPage.saveInlineEdit types {enter})\n\nProblem:\n- Inline edit/delete is hidden behind row click and timing-sensitive UI updates (fixed waits).\n- Deletion lacks standardized confirm/undo, increasing accidental loss risk.\n\nRecommendation:\n- Add explicit edit affordances and Save/Cancel controls in the AllocationTable; remove reliance on Enter-to-save.\n- Make delete safe via confirm + undo (or soft-delete with reversible window) with deterministic selectors for Cypress.\n- Replace fixed waits with deterministic “row entered edit mode” landmarks.","acceptance_criteria":"- Remove fixed waits from cypress/e2e/user-stories/17-editable-allocation-ledger.cy.js and cypress/e2e/user-stories/19-allocations-page.cy.js by adding deterministic edit-mode/ready selectors.\n- Allocation edit mode has explicit Save/Cancel controls with stable selectors; Cypress uses those instead of Enter-to-save.\n- Allocation delete uses consistent confirm/undo UX and is auditable.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T16:56:23.754226504-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:56:23.754226504-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.6","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:56:23.755283622-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.7","title":"UX-008: Standardize confirm/undo + auditability for high-stakes actions","description":"Evidence:\n- Transactions: cypress/e2e/user-stories/06-editable-ledger-rows.cy.js — \"removes a transaction by toggling its status to inactive\"\n  - Removal is achieved by status cycling via [data-inline-status-toggle], not an explicit delete/undo UX\n- Allocations: cypress/e2e/user-stories/17-editable-allocation-ledger.cy.js deletes via button[title='Delete allocation'] with no confirm/undo asserted\n- Quick allocation: cypress/e2e/user-stories/09-quick-allocate-budget-modal.cy.js and 10-group-quick-allocation.cy.js stub window.alert for insufficient RTA\n\nProblem:\n- Destructive and high-stakes actions use inconsistent patterns (status cycling vs delete button vs window.alert), which is unsafe and hard to learn.\n- Lack of standardized confirm/undo and audit affordances increases risk of irreversible mistakes and makes Cypress tests brittle.\n\nRecommendation:\n- Establish a single UX pattern for destructive/high-stakes actions: confirm dialog with context (what changes), optional undo window, and consistent audit record semantics.\n- Provide shared frontend components + backend primitives (transactional operations, returned operation IDs, consistent error schema) to support this pattern across domains.","acceptance_criteria":"- Transactions, allocations, and quick-allocation flows use the same confirm/undo pattern with stable selectors for Cypress.\n- Remove window.alert usage from UX-critical flows; Cypress specs stop stubbing alerts.\n- Actions are auditable (user can see what changed, and backend records can be traced/reconciled).\n- Update relevant Cypress specs (at least stories 06, 17, 09, 10) to assert the standardized confirm/undo UX.","status":"in_progress","priority":0,"issue_type":"feature","created_at":"2026-01-10T16:56:37.955292498-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T12:59:32.800620992-08:00","labels":["backend","cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.7","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:56:37.956380449-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.8","title":"UX-009: Reduce budgets page IA overload (split/tabs + clear landmarks)","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/19-allocations-page.cy.js — \"allows creating and editing allocations\"\n  - AllocationPage.visit() navigates to /#/budgets (see cypress/support/pages/AllocationPage.js)\n  - The same route renders both the budgets grid (#budgets-body) and the allocations ledger (#allocations-body)\n\nProblem:\n- The /#/budgets route is overloaded with multiple primary jobs (budget category grid + allocations ledger), increasing cognitive load and making navigation/landmarks unclear.\n- Cypress also treats /#/budgets as both Budgets and Allocations pages, which is a smell for IA ambiguity.\n\nRecommendation:\n- Split into separate routes (e.g., /#/budgets and /#/allocations) or implement a clear tabbed IA with explicit landmarks and URLs (e.g., /#/budgets?tab=allocations).\n- Ensure each view has an unambiguous heading/landmark + stable data-testid for Cypress.","acceptance_criteria":"- Budgets and Allocations are separated by route or explicit tabs with clear landmarks, and each state has a deterministic selector for Cypress.\n- Update cypress/e2e/user-stories/19-allocations-page.cy.js (and AllocationPage.visit()) to navigate to the correct view without relying on an overloaded /#/budgets route.","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-10T16:56:47.268630807-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:56:47.268630807-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.8","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:56:47.26973387-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pjb.9","title":"UX-010: Close accessibility + keyboard interaction gaps","description":"Evidence:\n- Cypress: cypress/e2e/user-stories/18-budget-group-reorder.cy.js — \"reorders groups via drag and drop and persists after save\"\n  - Reorder relies on drag/drop events with .group-row__drag-handle and forced triggers\n  - UI controls are [data-budgets-reorder], [data-budgets-reorder-save], [data-budgets-reorder-cancel]\n- Row-click editing patterns exist in Transactions/Allocations (e.g., story 06 + story 17), with implicit Enter-to-save\n\nProblem:\n- Critical interactions are not clearly keyboard-accessible (DnD reorder, row-click editing), and modal focus/escape handling is not validated.\n- Accessibility gaps increase UX friction and make deterministic Cypress testing harder (tests resort to force clicks and fixed waits).\n\nRecommendation:\n- Implement keyboard-friendly equivalents for DnD reorder (move up/down controls, ARIA attributes).\n- Ensure modals trap focus, support Escape-to-close, and expose accessible labels/landmarks.\n- Make inline editing discoverable and operable via keyboard without hidden gestures; add Cypress coverage for keyboard paths.","acceptance_criteria":"- Budget group reorder can be completed via keyboard-only controls (no drag required) and remains testable with deterministic selectors.\n- Modals support focus trap + Escape-to-close; Cypress can assert focus/close behavior.\n- Row-edit flows can be started and completed via explicit controls and keyboard, without forced clicks or timing hacks.","status":"open","priority":2,"issue_type":"bug","created_at":"2026-01-10T16:56:57.361562562-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-10T16:56:57.361562562-08:00","labels":["cypress","frontend","ux"],"dependencies":[{"issue_id":"dojo-pjb.9","depends_on_id":"dojo-pjb","type":"parent-child","created_at":"2026-01-10T16:56:57.362603426-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-pyw","title":"Feature: Harden DuckDB migrations for deploy safety","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:53:32.95829811-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:53:54.109533199-08:00","closed_at":"2026-01-12T20:53:54.109533199-08:00","close_reason":"Harden DuckDB migrations for deploy safety completed as per docs/plans/db-migrations.md."}
{"id":"dojo-q23","title":"Implement CI and Release Pipeline","description":"Established a deterministic CI and release pipeline using Nix to build/test on master and publish artifacts on version tags, including changelog automation. (Ref: docs/plans/ci-release-pipeline.md)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:50:08.31192157-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:50:08.344420573-08:00","closed_at":"2026-01-13T13:50:08.344420573-08:00","close_reason":"Historical work completed"}
{"id":"dojo-ql1","title":"Loan onboarding reconcile drift adjustment helper (interest/escrow)","description":"Problem\nLoans often drift from statement balances due to interest accrual and escrow. During onboarding, imported loan transactions may not perfectly align with statement cutoffs; users need a helper to reconcile drift safely and transparently.\n\nAcceptance Criteria (plan sections + contracts)\n- Aligns with plan section \"Milestone 6: Reconciliation gating (dojo-aoc, dojo-ql1)\" and \"Validation and Acceptance\".\n- Works for loans created by onboarding commit (POST /api/onboarding/aspire/drafts/{draft_id}/commit) and does not break idempotence/replay semantics.\n- Produces adjustments that are explainable in reconciliation UI and do not corrupt ledger invariants (no silent rewrites).\n\nTesting Expectations\n- Unit tests for drift scenarios (interest-only, escrow-only, mixed) producing expected adjustment entries.\n- Integration test: import loan fixture, run reconciliation helper, verify difference resolves and persists correctly.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-16T13:32:04.27711849-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:53.468441704-08:00","dependencies":[{"issue_id":"dojo-ql1","depends_on_id":"dojo-aoc","type":"blocks","created_at":"2026-01-16T13:32:28.597497122-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-ris","title":"Feature: Burn Rate Visualization","description":"Add a visualization to see burn rate over time (as requested in next_up/aspire_notes.md).","status":"open","priority":2,"issue_type":"feature","created_at":"2026-01-13T14:08:44.022335609-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T14:08:44.022335609-08:00"}
{"id":"dojo-rwa","title":"Auditable Ledger and Net Worth MVP","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:23:57.474878481-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:24:02.206796056-08:00","closed_at":"2026-01-13T13:24:02.206796056-08:00","close_reason":"Work completed as per docs/plans/auditable-ledger-net-worth.md"}
{"id":"dojo-stg","title":"UX-019: Reconciliation delta-finding improvements (cash/credit)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-12T20:51:25.778325893-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:28.190136001-08:00","closed_at":"2026-01-12T20:51:28.190136001-08:00","close_reason":"Implemented as part of daily-workflow-dashboard-ledger-reconcile.md"}
{"id":"dojo-tc9","title":"UX-010: Remove fixed waits","description":"Replace cy.wait(1000), cy.wait(500) with ready selectors. Add [data-page-ready], [data-row-edit-mode], etc.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:34.468823752-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.468823752-08:00"}
{"id":"dojo-ti4","title":"Budgets/envelopes import stage (plan/apply + UI)","description":"## End State\nWizard stage imports Aspire categories/envelopes/budget structure into Dojo with plan/apply and UI review, preserving hierarchy/grouping semantics where possible.\n\n## Acceptance Criteria\n- Planner maps Aspire categories/groups to Dojo budget groups/categories; reports conflicts and required user choices.\n- Apply is transactional and idempotent (re-run does not duplicate groups/categories).\n- UI shows proposed structure and any warnings (name collisions, unsupported constructs).\n\n## Test Expectations\n- Integration tests validate category/group counts and stable IDs after re-run.\n- Tests cover edge cases: empty groups, renamed categories, duplicates, reserved names.\n- Optional e2e stage test for plan-\u003eapply-\u003enext gating.","acceptance_criteria":"- Plan/apply for budget structure\n- Idempotent writes\n- UI review + warnings","notes":"Keep mapping explicit; avoid silent merges.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-23T13:14:58.222628687-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:14:58.222628687-08:00","dependencies":[{"issue_id":"dojo-ti4","depends_on_id":"dojo-gob","type":"blocks","created_at":"2026-01-23T13:16:14.007574412-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-ti4","depends_on_id":"dojo-7n0","type":"blocks","created_at":"2026-01-23T13:16:14.044460334-08:00","created_by":"Brandon Ogle"},{"issue_id":"dojo-ti4","depends_on_id":"dojo-obq","type":"blocks","created_at":"2026-01-23T13:16:14.300591123-08:00","created_by":"Brandon Ogle"}]}
{"id":"dojo-u5s","title":"Cypress E2E Migration: Record passing runs and capture outcomes","description":"This task involves:\n- Recording passing runs for `pytest`\n- Recording passing runs for `npx cypress run --e2e --browser \\\u003cbrowser\\\u003e [--headed]`\n- Capturing the outcomes of these runs.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-13T13:26:52.4681644-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:29:21.083104488-08:00","closed_at":"2026-01-13T13:29:21.083104488-08:00","close_reason":"Work already completed as per docs/plans/archive/cypress-e2e-migration-summary.md"}
{"id":"dojo-u9n","title":"Automated test coverage for migration wizard (unit/integration/e2e + fixtures)","description":"Problem\nThe Aspire migration wizard spans multiple backend endpoints and a multi-step UI. We need automated test coverage (unit + integration + e2e) that enforces the ExecPlan contracts and prevents regressions in parsing, idempotence, and confidence reporting.\n\nAcceptance Criteria (plan sections + contracts)\n- Tests cover the end-to-end contract chain described in plan section \"API Contracts (Requests, Responses, Errors)\": POST /api/onboarding/aspire/uploads -\u003e GET /api/onboarding/aspire/uploads/{upload_id}/preview -\u003e POST/GET/PUT /api/onboarding/aspire/drafts* -\u003e POST /api/onboarding/aspire/drafts/{draft_id}/dry-run -\u003e POST /api/onboarding/aspire/drafts/{draft_id}/commit -\u003e GET /api/onboarding/aspire/import-runs/{import_run_id}/confidence-report.\n- Tests explicitly validate \"Error Envelope (all endpoints)\" behavior (blocking vs warnings).\n- Tests enforce \"Idempotence and Retry (Source IDs + Rollback Expectations)\" via commit replay coverage.\n\nTesting Expectations\n- Integration: at least one full happy-path test and one error-path test (dry-run blocking).\n- Idempotence: commit replay test asserting no duplicates.\n- E2E: cypress user-story that completes the wizard with a fixture XLSX and asserts confidence report renders.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-16T13:32:04.656688049-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:43.266358863-08:00"}
{"id":"dojo-uli","title":"Security guardrails: .gitignore updates + pre-commit check / documented safety script","description":"## End State\nProject has guardrails to prevent accidental commits of real Aspire exports or derived sensitive artifacts, plus a documented local safety script/check.\n\n## Acceptance Criteria\n- .gitignore covers common Aspire export names/patterns (e.g., *.xlsx under known local dirs) without breaking committed fixtures.\n- Pre-commit check (or repo script) fails if staged changes include suspicious XLSX/CSV/exports outside allowed fixture paths.\n- Documentation describes how to safely run local parity tests and where to place private workbooks.\n\n## Test Expectations\n- Script has tests or at least a deterministic self-check mode (simulated staged file list) validating allow/deny rules.\n- CI ensures the guardrail script itself runs (without needing private files).","acceptance_criteria":"- .gitignore hardened\n- Pre-commit/script guardrail to block sensitive files\n- Documented safe workflow","notes":"Guardrails should block nothing in normal dev; only prevent risky commits.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-23T13:15:32.671409747-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-23T13:27:12.143481146-08:00","closed_at":"2026-01-23T13:27:12.143481146-08:00","close_reason":"Close after fixing incorrect dependency direction (dojo-hz5 now blocked by dojo-uli + other workstreams)."}
{"id":"dojo-vs4","title":"Feature: Editable Ledger Tables and SCD-2 Write Logic","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-12T20:54:31.107204149-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:54:49.242564122-08:00","closed_at":"2026-01-12T20:54:49.242564122-08:00","close_reason":"Editable Ledger Tables and SCD-2 Write Logic completed as per docs/plans/editable-ledger-scd2-write-logic.md."}
{"id":"dojo-wnj","title":"UX-014, UX-017: Loading/data freshness","description":"Add page/per-component ready states. Disable interactions until ready. Add [data-page-ready] landmarks. Remove cy.ensureBackendState usage.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:34.579461372-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.579461372-08:00"}
{"id":"dojo-wo9","title":"UX-011: Terminology alignment","description":"Canonical: 'Ready to Assign' (hyphenated). 'budget category' vs 'envelope' (choose one). 'group' vs 'budget group'. Update UI strings and Cypress assertions.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-12T20:51:34.539113363-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:51:34.539113363-08:00"}
{"id":"dojo-ygs","title":"UX-021: Reconcile session framework (extensible account types)","description":"Goal:\n- Define a shared reconciliation session “shell” that can support multiple account types (cash/credit today; investments positions snapshots and tangibles valuations later) with a consistent outer UX and lifecycle.\n\nMotivation:\n- Reconciliation is a high-stakes workflow; we want a single, predictable session model (steps, validation, confirm/undo, audit/tracing) while allowing account-type-specific inner panels and math.\n\nDesign direction:\n- Create a reconciliation session framework with a clear adapter/plugin contract:\n  - Outer shell: session header, stepper/sections, keyboard navigation, error handling, confirm/undo, and completion semantics.\n  - Inner adapter: account-type-specific inputs, matching UI (transactions vs positions vs valuations), and delta computation.\n- Refactor existing cash/credit reconciliation to use the shell as the first adapter implementation (no behavior regression).\n- Add scaffold adapters for investments (positions snapshot) and tangibles (valuation) to prove extensibility, even if they are minimal placeholders initially.\n\nRelated: dojo-pjb.7 (UX-008 confirm/undo patterns), dojo-pjb.9 (UX-010 keyboard/accessibility), dojo-cdu (UX-019 reconciliation delta-finding improvements).\n","acceptance_criteria":"- There is a shared reconciliation session shell (component/route) that owns common UX (header, navigation, completion CTA, cancel/confirm/undo affordances) and can host multiple reconciliation adapter types.\n- Cash/credit reconciliation is implemented as an adapter using the shared shell, with no functional regression vs the previous flow (a user can still reconcile a cash and a credit account end-to-end).\n- The adapter contract is explicit (typed interface or documented contract) covering: required inputs, delta/validation outputs, and commit action(s).\n- Two additional adapter stubs exist and are renderable in the shell:\n  - Investments: positions snapshot reconciliation panel stub.\n  - Tangibles: valuation reconciliation panel stub.\n- The shell provides consistent keyboard-accessible navigation and exposes stable landmarks/selectors suitable for future Cypress coverage.\n- Existing reconciliation unit/integration tests continue passing after the refactor (e.g., tests/unit/core/test_reconciliation.py and tests/integration/reconciliation/test_reconciliation_api.py).\n","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-11T13:19:39.695307129-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T14:24:30.837868061-08:00","closed_at":"2026-01-12T14:24:30.837868061-08:00","close_reason":"Milestone 7 completed: Reconciliation session framework implemented with shell + adapter pattern","labels":["backend","frontend","ux"]}
{"id":"dojo-ylc","title":"Reconcile reconciliation-feature.md with actual progress","description":"The plan document docs/plans/reconciliation-feature.md shows all milestones as outstanding, but docs/plans/daily-workflow-dashboard-ledger-reconcile.md indicates that significant reconciliation work has been completed (e.g., delta-finding helpers, persisting pending total, reconciliation session framework). Update reconciliation-feature.md to accurately reflect the current state of the reconciliation feature, marking completed milestones and identifying truly outstanding work.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-12T20:51:57.683822015-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:51:28.620745158-08:00","closed_at":"2026-01-13T13:51:28.620745158-08:00","close_reason":"Plan documents have been consolidated into docs/plans/domain-reconciliation.md, which now accurately reflects the implementation status of the reconciliation feature."}
{"id":"dojo-z8j","title":"Assets, Liabilities, and Budget Flows","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-13T13:23:40.592505188-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-13T13:23:42.992920835-08:00","closed_at":"2026-01-13T13:23:42.992920835-08:00","close_reason":"Work largely completed as per docs/plans/assets-liabilities-budget-flows.md."}
{"id":"dojo-zb6","title":"Milestone 5: Performance harness and thresholds","description":"Add tests/perf/ that seeds \u003e=10k transactions, runs core queries, and asserts wall-clock thresholds. Integrate with CI optional job. Fails when thresholds exceeded.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-12T20:52:22.386066272-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:52:22.386066272-08:00"}
{"id":"dojo-zgc","title":"Deployment Pipeline \u0026 Kubernetes Manifests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-12T20:17:54.474505568-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-12T20:18:09.005134188-08:00","closed_at":"2026-01-12T20:18:09.005134188-08:00","close_reason":"Closed"}
{"id":"dojo-zqf","title":"Migration Apply/Commit pipeline (transactional apply + cache rebuild + idempotent retries)","description":"Problem\nWe need a transactional apply pipeline that turns a validated migration draft into persisted Dojo state. It must be safe to retry (idempotent) and must not partially apply on failure.\n\nAcceptance Criteria (plan sections + contracts)\n- Aligns with plan sections \"Commit\" and \"Idempotence and Retry (Source IDs + Rollback Expectations)\" including \"Commit atomicity\" and \"Storage schema (idempotence index)\".\n- Implements POST /api/onboarding/aspire/drafts/{draft_id}/commit as atomic + idempotent: repeat commit returns the same import_run_id (or equivalent) and does not double-write.\n- Commit semantics satisfy \"File hashing\" and \"Source locator and source id\" requirements from the plan.\n- On success, confidence report can be fetched via GET /api/onboarding/aspire/import-runs/{import_run_id}/confidence-report.\n\nTesting Expectations\n- Integration test that commits the same draft twice and asserts no duplicate ledger rows / allocations / snapshots (idempotence).\n- Failure-mode test: force an error mid-commit and assert DB has no partial apply (transaction rollback).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-16T13:32:03.774448803-08:00","created_by":"Brandon Ogle","updated_at":"2026-01-16T13:56:28.019757931-08:00"}
