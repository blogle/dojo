<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Dojo | Transactions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=JetBrains+Mono:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="app-shell">
      <header class="main-header">
        <a href="/" class="logo">DOJO</a>
        <nav class="main-nav" aria-label="Primary">
          <a href="#/transactions" class="nav-link active" data-route-link="transactions">Transactions</a>
          <a
            href="#/accounts"
            class="nav-link"
            data-route-link="accounts"
          >Assets &amp; Liabilities</a>
          <a href="#/budgets" class="nav-link" data-route-link="budgets">Budgets</a>
          <noscript><span class="muted">Enable JavaScript for navigation.</span></noscript>
        </nav>
      </header>

      <main class="page-container" id="page-container">
        <!-- Transaction Page -->
        <section class="page active" id="transactions-page" data-route="transactions">
          <header class="transaction-header">
            <div class="stat-card">
              <span class="stat-label">Today's Date</span>
              <span id="today-date" class="stat-value">—</span>
            </div>
            <div class="stat-card">
              <span class="stat-label">Last Reconcile</span>
              <span id="last-reconcile-date" class="stat-value">Never</span>
            </div>
            <div class="stat-card">
              <span class="stat-label">Spent This Month</span>
              <span id="month-spend" class="stat-value">$0.00</span>
            </div>
          </header>

          <div class="ledger-wrapper">
            <table class="ledger-table">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>Account</th>
                  <th>Category</th>
                  <th>Memo</th>
                  <th>Status</th>
                  <th class="amount-cell">Amount</th>
                </tr>
              </thead>
              <tbody id="transactions-body">
                <!-- Rows will be inserted by JavaScript -->
              </tbody>
            </table>
          </div>
        </section>

        <!-- Accounts / Assets & Liabilities Page -->
        <section class="page" id="accounts-page" data-route="accounts">
          <header class="accounts-page-header">
            <div class="accounts-page-header__nav">
              <p class="page-label">Assets &amp; Liabilities</p>
              <nav class="accounts-subnav" aria-label="Accounts navigation">
                <button type="button" class="subnav-link is-active" data-account-section="all">All</button>
                <button type="button" class="subnav-link" data-account-section="assets">Assets</button>
                <button type="button" class="subnav-link" data-account-section="liabilities">Liabilities</button>
              </nav>
              <p class="muted small-note">Groupings follow the financial hierarchy you configured.</p>
            </div>
            <button class="primary add-account-btn" data-add-account-button>+ Add account</button>
          </header>

          <div class="accounts-stat-grid">
            <div class="stat-card">
              <span class="stat-label">Total Assets</span>
              <span id="assets-total" class="stat-value">—</span>
              <span class="muted small-note">Includes cash, investments, property.</span>
            </div>
            <div class="stat-card">
              <span class="stat-label">Total Liabilities</span>
              <span id="liabilities-total" class="stat-value">—</span>
              <span class="muted small-note">Mortgages, loans &amp; lines of credit.</span>
            </div>
            <div class="stat-card">
              <span class="stat-label">Net Worth</span>
              <span id="net-worth" class="stat-value">—</span>
              <span class="muted small-note">Assets minus liabilities.</span>
            </div>
          </div>

          <div class="account-groups" id="account-groups">
            <!-- Account group cards injected here -->
          </div>
        </section>
      </main>
    </div>

    <div class="modal-overlay" id="account-modal" aria-hidden="true">
      <div class="modal">
        <header class="modal-header">
          <div>
            <p class="stat-label">Add account</p>
            <h2>Follow the guided steps</h2>
          </div>
          <button class="modal-close" type="button" aria-label="Close modal" data-close-modal>×</button>
        </header>
        <ol class="modal-steps">
          <li><strong>Step 1:</strong> Choose the account type (checking, credit, investment, etc.).</li>
          <li><strong>Step 2:</strong> Enter the institution name and the account nickname.</li>
          <li><strong>Step 3:</strong> Record the current balance and reconcile with statements.</li>
        </ol>
        <form class="modal-form">
          <label>
            Account type
            <select name="type">
              <option value="checking">Checking</option>
              <option value="credit">Credit Card</option>
              <option value="brokerage">Brokerage</option>
              <option value="loan">Loan / Mortgage</option>
              <option value="asset">Other Asset</option>
            </select>
          </label>
          <label>
            Account name
            <input name="name" type="text" placeholder="e.g. Main Checking" />
          </label>
          <label>
            Balance
            <input name="balance" type="number" placeholder="0.00" />
          </label>
          <label>
            Notes
            <textarea name="notes" rows="3" placeholder="Optional context (e.g. interest rate, minimum payment)"></textarea>
          </label>
          <button type="button" class="primary">Review &amp; create</button>
        </form>
      </div>
    </div>

    <script src="./app.js" type="module"></script>
  </body>
</html>
